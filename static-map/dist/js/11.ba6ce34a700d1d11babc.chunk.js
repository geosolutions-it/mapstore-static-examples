(self.webpackChunkstatic_map=self.webpackChunkstatic_map||[]).push([[11],{45397:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(24852),r=s.n(a),i=s(45697),l=s.n(i),h=s(30998);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class p extends r().Component{constructor(){super(...arguments),u(this,"setLayer",(()=>{let e;this._layer&&this.cleanSupport(),this.props.map.eachLayer((t=>{t.layerId===this.props.layer&&(e=t)}),this),void 0!==e&&e.on("click",this.featureClicked,this),this._layer=e,this.highlightFeatures(this.props.features)})),u(this,"featureClicked",(e=>{let t=e.layer;if((e.originalEvent.ctrlKey||e.originalEvent.metaKey)&&t){let e=(0,h.findIndex)(this._selectedFeatures,(e=>e===t));-1!==e?(this._layer.resetStyle(t),this._selectedFeatures=this._selectedFeatures.filter(((t,s)=>s!==e)),t=null):this._selectedFeatures.push(t)}else this._selectedFeatures.map((e=>{this._layer.resetStyle(e)})),this._selectedFeatures=t?[t]:[];t&&(t.bringToFront(),t.setStyle(this.props.selectedStyle)),this.props.updateHighlighted(this._selectedFeatures.map((e=>e.msId)),"")})),u(this,"cleanSupport",(()=>{this._layer&&(this._selectedFeatures.map((e=>{this._layer.resetStyle(e)})),this._layer.off("click",this.featureClicked,this)),this._selectedFeatures=[],this._layer=null,this.props.updateHighlighted([],"")})),u(this,"highlightFeatures",(e=>{this._layer||this.setLayer(),this._selectedFeatures.map((e=>{this._layer.resetStyle(e)})),this._selectedFeatures=[],this._layer.eachLayer((t=>{-1!==e.indexOf(t.msId)&&(this._selectedFeatures.push(t),t.bringToFront(),t.setStyle(this.props.selectedStyle))}),this)}))}componentDidMount(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}shouldComponentUpdate(e){let t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}UNSAFE_componentWillUpdate(e){switch(e.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}componentWillUnmount(){this.cleanSupport()}render(){return null}}u(p,"propTypes",{map:l().object,layer:l().string,status:l().oneOf(["disabled","enabled","update"]),updateHighlighted:l().func,selectedStyle:l().object,features:l().array}),u(p,"contextTypes",{messages:l().object}),u(p,"defaultProps",{status:"disabled",updateHighlighted:()=>{},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]});const n=p},39011:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});const a={LMap:s(46013).Z,Layer:s(61938).Z,Feature:s(89485).Z,MeasurementSupport:s(43733).Z,Overview:s(91703),ScaleBar:s(68227),DrawSupport:s(66910).Z,HighlightFeatureSupport:s(45397).Z,PopupSupport:s(61745).Z}}}]);