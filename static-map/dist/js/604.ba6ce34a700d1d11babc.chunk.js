(self.webpackChunkstatic_map=self.webpackChunkstatic_map||[]).push([[604],{24969:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var r=i(59900),o=i(86320),n=i(66575),s=i(73381);const a=function(t){function e(e,i,r){t.call(this);var o=r||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===o.transition?250:o.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s.Z.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?e=t:t.getState()==r.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:(0,o.YQ)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n.Z)},93888:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=i(83482),o=i(70701);const n=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,o.Ul)(t)[0];this.forEach((function(t){t.tileCoord[0]!==e&&(this.remove((0,o.km)(t.tileCoord)),t.dispose())}),this)}},e}(r.Z)},52209:(t,e,i)=>{"use strict";i.d(e,{a:()=>a,s:()=>l});var r=i(85386),o=i(21915),n=i(21882),s=i(18672);function a(t,e,i,r){var n=(0,s.vs)(i,e,t),a=(0,s._Q)(e,r,i),h=e.getMetersPerUnit();void 0!==h&&(a*=h);var l=t.getMetersPerUnit();void 0!==l&&(a/=l);var u=t.getExtent();if(!u||(0,o.b8)(u,n)){var c=(0,s._Q)(t,a,n)/a;isFinite(c)&&c>0&&(a/=c)}return a}function h(t,e,i,r){var o=i-t,n=r-e,s=Math.sqrt(o*o+n*n);return[Math.round(i+o/s),Math.round(r+n/s)]}function l(t,e,i,s,a,l,u,c,p,g,_){var d=(0,r.E4)(Math.round(i*t),Math.round(i*e));if(0===p.length)return d.canvas;d.scale(i,i);var f=(0,o.lJ)();p.forEach((function(t,e,i){(0,o.l7)(f,t.extent)}));var v=(0,o.dz)(f),m=(0,o.Cr)(f),T=(0,r.E4)(Math.round(i*v/s),Math.round(i*m/s)),y=i/s;p.forEach((function(t,e,i){var r=t.extent[0]-f[0],n=-(t.extent[3]-f[3]),s=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);T.drawImage(t.image,g,g,t.image.width-2*g,t.image.height-2*g,r*y,n*y,s*y,a*y)}));var E=(0,o.rL)(u);return c.getTriangles().forEach((function(t,e,r){var o=t.source,a=t.target,u=o[0][0],c=o[0][1],p=o[1][0],g=o[1][1],_=o[2][0],v=o[2][1],m=(a[0][0]-E[0])/l,y=-(a[0][1]-E[1])/l,R=(a[1][0]-E[0])/l,S=-(a[1][1]-E[1])/l,C=(a[2][0]-E[0])/l,I=-(a[2][1]-E[1])/l,Z=u,P=c;u=0,c=0;var j=[[p-=Z,g-=P,0,0,R-m],[_-=Z,v-=P,0,0,C-m],[0,0,p,g,S-y],[0,0,_,v,I-y]],F=(0,n.SV)(j);if(F){d.save(),d.beginPath();var x=(m+R+C)/3,O=(y+S+I)/3,L=h(x,O,m,y),A=h(x,O,R,S),G=h(x,O,C,I);d.moveTo(A[0],A[1]),d.lineTo(L[0],L[1]),d.lineTo(G[0],G[1]),d.clip(),d.transform(F[0],F[2],F[1],F[3],m,y),d.translate(f[0]-Z,f[3]-P),d.scale(s/i,-s/i),d.drawImage(T.canvas,0,0),d.restore()}})),_&&(d.save(),d.strokeStyle="black",d.lineWidth=1,c.getTriangles().forEach((function(t,e,i){var r=t.target,o=(r[0][0]-E[0])/l,n=-(r[0][1]-E[1])/l,s=(r[1][0]-E[0])/l,a=-(r[1][1]-E[1])/l,h=(r[2][0]-E[0])/l,u=-(r[2][1]-E[1])/l;d.beginPath(),d.moveTo(s,a),d.lineTo(o,n),d.lineTo(h,u),d.closePath(),d.stroke()})),d.restore()),d.canvas}},56245:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var r=i(21915),o=i(21882),n=i(18672),s=function(t,e,i,o,s){this.sourceProj_=t,this.targetProj_=e;var a={},h=(0,n.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=h(t)),a[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,r.dz)(o)==(0,r.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,r.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,r.dz)(this.targetProj_.getExtent()):null;var l=(0,r.rL)(i),u=(0,r.Xv)(i),c=(0,r.w$)(i),p=(0,r.hC)(i),g=this.transformInv_(l),_=this.transformInv_(u),d=this.transformInv_(c),f=this.transformInv_(p);if(this.addQuad_(l,u,c,p,g,_,d,f,10),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,i){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}};s.prototype.addTriangle_=function(t,e,i,r,o,n){this.triangles_.push({source:[r,o,n],target:[t,e,i]})},s.prototype.addQuad_=function(t,e,i,n,s,a,h,l,u){var c=(0,r.hI)([s,a,h,l]),p=this.sourceWorldWidth_?(0,r.dz)(c)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,_=this.sourceProj_.canWrapX()&&p>.5&&p<1,d=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var f=(0,r.hI)([t,e,i,n]);d=(0,r.dz)(f)/this.targetWorldWidth_>.25||d}!_&&this.sourceProj_.isGlobal()&&p&&(d=p>.25||d)}if(d||!this.maxSourceExtent_||(0,r.kK)(c,this.maxSourceExtent_)){if(!(d||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;d=!0}if(u>0){if(!d){var v,m=[(t[0]+i[0])/2,(t[1]+i[1])/2],T=this.transformInv_(m);v=_?((0,o.$W)(s[0],g)+(0,o.$W)(h[0],g))/2-(0,o.$W)(T[0],g):(s[0]+h[0])/2-T[0];var y=(s[1]+h[1])/2-T[1];d=v*v+y*y>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var E=[(e[0]+i[0])/2,(e[1]+i[1])/2],R=this.transformInv_(E),S=[(n[0]+t[0])/2,(n[1]+t[1])/2],C=this.transformInv_(S);this.addQuad_(t,e,E,S,s,a,R,C,u-1),this.addQuad_(S,E,i,n,C,R,h,l,u-1)}else{var I=[(t[0]+e[0])/2,(t[1]+e[1])/2],Z=this.transformInv_(I),P=[(i[0]+n[0])/2,(i[1]+n[1])/2],j=this.transformInv_(P);this.addQuad_(t,I,P,n,s,Z,j,l,u-1),this.addQuad_(I,e,i,P,Z,a,h,j,u-1)}return}}if(_){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,n,s,h,l),this.addTriangle_(t,e,i,s,a,h)}},s.prototype.calculateSourceExtent=function(){var t=(0,r.lJ)();return this.triangles_.forEach((function(e,i,o){var n=e.source;(0,r.Wj)(t,n[0]),(0,r.Wj)(t,n[1]),(0,r.Wj)(t,n[2])})),t},s.prototype.getTriangles=function(){return this.triangles_};const a=s},92663:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>L});var r=i(14431),o=i(29217),n=i(11256),s=i(13002),a=i(73381),h=i(21915),l=function(t){function e(e,i,r,o,s,a){t.call(this,e,i,r,n.Z.IDLE),this.src_=o,this.image_=new Image,null!==s&&(this.image_.crossOrigin=s),this.imageListenerKeys_=null,this.state=n.Z.IDLE,this.imageLoadFunction_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=n.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,h.Cr)(this.extent)/this.image_.height),this.state=n.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=n.Z.IDLE&&this.state!=n.Z.ERROR||(this.state=n.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,s.Vx)(this.image_,a.Z.ERROR,this.handleImageError_,this),(0,s.Vx)(this.image_,a.Z.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.bN),this.imageListenerKeys_=null},e}(o.Z);const u=l;var c=i(38906),p=i(13580),g=i(18672),_=i(52209),d=i(49179),f=i(35211),v=i(79682),m=i(9520),T=i(56245),y=function(t){function e(e,i,r,o,s,a){var l=e.getExtent(),u=i.getExtent(),c=u?(0,h.Ed)(r,u):r,p=(0,h.qg)(c),g=(0,_.a)(e,i,p,o),d=f.m,v=new T.Z(e,i,c,l,g*d),m=a(v.calculateSourceExtent(),g,s),y=n.Z.LOADED;m&&(y=n.Z.IDLE);var E=m?m.getPixelRatio():1;t.call(this,r,o,E,y),this.targetProj_=i,this.maxSourceExtent_=l,this.triangulation_=v,this.targetResolution_=o,this.targetExtent_=r,this.sourceImage_=m,this.sourcePixelRatio_=E,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n.Z.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==n.Z.LOADED){var e=(0,h.dz)(this.targetExtent_)/this.targetResolution_,i=(0,h.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,_.s)(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==n.Z.IDLE){this.state=n.Z.LOADING,this.changed();var t=this.sourceImage_.getState();t==n.Z.LOADED||t==n.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,s.oL)(this.sourceImage_,a.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=n.Z.LOADED&&e!=n.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,s.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(o.Z);const E=y;var R=i(71405),S=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(m.ZP),C=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,v.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,r){var o=this.getProjection();if(f.j&&o&&r&&!(0,g.OP)(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,g.OP)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,h.fS)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new E(o,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,o)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,i,r)},e.prototype.getImageInternal=function(t,e,i,r){return(0,d.O3)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case n.Z.LOADING:this.loading=!0,this.dispatchEvent(new S("imageloadstart",e));break;case n.Z.LOADED:this.loading=!1,this.dispatchEvent(new S("imageloadend",e));break;case n.Z.ERROR:this.loading=!1,this.dispatchEvent(new S("imageloaderror",e))}},e}(R.Z);function I(t,e){t.getImage().src=e}const Z=C;var P=i(99274),j=i(79313),F=i(78487),x=[101,101],O=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:I,this.params_=i.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,o){if(void 0!==this.url_){var n=(0,g.U2)(i),s=this.getProjection();s&&s!==n&&(e=(0,_.a)(s,n,t,e),t=(0,g.vs)(t,n,s));var a=(0,h.p8)(t,e,0,x),l={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,p.f0)(l,this.params_,o);var u=Math.floor((t[0]-a[0])/e),c=Math.floor((a[3]-t[1])/e);return l[this.v13_?"I":"X"]=u,l[this.v13_?"J":"Y"]=c,this.getRequestUrl_(a,x,1,s||n,l)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,o){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var n=e/i,l=(0,h.qg)(t),c=Math.ceil((0,h.dz)(t)/n),g=Math.ceil((0,h.Cr)(t)/n),_=(0,h.p8)(l,n,0,[c,g]),d=Math.ceil(this.ratio_*(0,h.dz)(t)/n),f=Math.ceil(this.ratio_*(0,h.Cr)(t)/n),v=(0,h.p8)(l,n,0,[d,f]),m=this.image_;if(m&&this.renderedRevision_==this.getRevision()&&m.getResolution()==e&&m.getPixelRatio()==i&&(0,h.r4)(m.getExtent(),_))return m;var T={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,p.f0)(T,this.params_),this.imageSize_[0]=Math.round((0,h.dz)(v)/n),this.imageSize_[1]=Math.round((0,h.Cr)(v)/n);var y=this.getRequestUrl_(v,this.imageSize_,i,o,T);return this.image_=new u(v,e,i,y,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,s.oL)(this.image_,a.Z.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,r,o){if((0,c.h)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case P.Z.GEOSERVER:var n=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+n:o.FORMAT_OPTIONS="dpi:"+n;break;case P.Z.MAPSERVER:o.MAP_RESOLUTION=90*i;break;case P.Z.CARMENTA_SERVER:case P.Z.QGIS:o.DPI=90*i;break;default:(0,c.h)(!1,8)}o.WIDTH=e[0],o.HEIGHT=e[1];var s,a=r.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,o.BBOX=s.join(","),(0,F.B)(this.url_,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,p.f0)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.E;this.v13_=(0,j.n)(t,"1.3")>=0},e}(Z);const L=O},76122:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Z});var r=i(35211),o=i(49179),n=i(24969),s=i(59900),a=i(85386),h=i(13002),l=i(73381),u=function(t){function e(e,i,r,o,n,s){t.call(this,e,i,s),this.crossOrigin_=o,this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=s.Z.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,h.Vx)(this.image_,l.Z.ERROR,this.handleImageError_,this),(0,h.Vx)(this.image_,l.Z.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.bN),this.imageListenerKeys_=null},e}(n.Z);function c(){var t=(0,a.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const p=u;var g=i(93888),_=i(18672),d=i(21915),f=i(21882),v=i(52209),m=i(56245),T=function(t){function e(e,i,o,n,a,h,l,u,c,p,g){t.call(this,a,s.Z.IDLE),this.renderEdges_=void 0!==g&&g,this.pixelRatio_=l,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=n,this.wrappedTileCoord_=h||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var _=n.getTileCoordExtent(this.wrappedTileCoord_),T=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),E=T?(0,d.Ed)(_,T):_;if(0!==(0,d.bg)(E)){var R=e.getExtent();R&&(y=y?(0,d.Ed)(y,R):R);var S=n.getResolution(this.wrappedTileCoord_[0]),C=(0,d.qg)(E),I=(0,v.a)(e,o,C,S);if(!isFinite(I)||I<=0)this.state=s.Z.EMPTY;else{var Z=void 0!==p?p:r.m;if(this.triangulation_=new m.Z(e,o,E,y,I*Z),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(I);var P=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(P[1]=(0,f.uZ)(P[1],y[1],y[3]),P[3]=(0,f.uZ)(P[3],y[1],y[3])):P=(0,d.Ed)(P,y)),(0,d.bg)(P)){for(var j=i.getTileRangeForExtentAndZ(P,this.sourceZ_),F=j.minX;F<=j.maxX;F++)for(var x=j.minY;x<=j.maxY;x++){var O=c(this.sourceZ_,F,x,l);O&&this.sourceTiles_.push(O)}0===this.sourceTiles_.length&&(this.state=s.Z.EMPTY)}else this.state=s.Z.EMPTY}else this.state=s.Z.EMPTY}}else this.state=s.Z.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==s.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=s.Z.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],n=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,v.s)(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),n,h,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=s.Z.LOADED}this.changed()},e.prototype.load=function(){if(this.state==s.Z.IDLE){this.state=s.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var o=e.getState();if(o==s.Z.IDLE||o==s.Z.LOADING){t++;var n=(0,h.oL)(e,l.Z.CHANGE,(function(i){var r=e.getState();r!=s.Z.LOADED&&r!=s.Z.ERROR&&r!=s.Z.EMPTY||((0,h.bN)(n),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){t.getState()==s.Z.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.bN),this.sourcesListenerKeys_=null},e}(n.Z);const y=T;var E=i(44280),R=i(70701),S=i(86018),C=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:I,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!r.j)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(r.j){var o=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==o?i:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[n];s.expireCache(s==o?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return r.j&&this.getProjection()&&t&&!(0,_.OP)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(r.j&&this.getProjection()&&e&&!(0,_.OP)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!r.j)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!(0,_.OP)(i,e)){var n=(0,o.sq)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,S.X$)(e)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!r.j)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||(0,_.OP)(i,e))return this.tileCache;var n=(0,o.sq)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new g.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,i,r,o,n){var a=[t,e,i],u=this.getTileCoordForTileUrlFunction(a,o),c=u?this.tileUrlFunction(u,r,o):void 0,p=new this.tileClass(a,void 0!==c?s.Z.IDLE:s.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=n,(0,h.oL)(p,l.Z.CHANGE,this.handleTileChange,this),p},e.prototype.getTile=function(t,e,i,o,n){var s=this.getProjection();if(r.j&&s&&n&&!(0,_.OP)(s,n)){var a,h=this.getTileCacheForProjection(n),l=[t,e,i],u=(0,R.km)(l);h.containsKey(u)&&(a=h.get(u));var c=this.getKey();if(a&&a.key==c)return a;var p=this.getTileGridForProjection(s),g=this.getTileGridForProjection(n),d=this.getTileCoordForTileUrlFunction(l,n),f=new y(s,p,n,g,l,d,this.getTilePixelRatio(o),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return f.key=c,a?(f.interimTile=a,f.refreshInterimChain(),h.replace(u,f)):h.set(u,f),f}return this.getTileInternal(t,e,i,o,s||n)},e.prototype.getTileInternal=function(t,e,i,r,o){var n=null,a=(0,R.lg)(t,e,i),h=this.getKey();if(this.tileCache.containsKey(a)){if((n=this.tileCache.get(a)).key!=h){var l=n;n=this.createTile_(t,e,i,r,o,h),l.getState()==s.Z.IDLE?n.interimTile=l.interimTile:n.interimTile=l,n.refreshInterimChain(),this.tileCache.replace(a,n)}}else n=this.createTile_(t,e,i,r,o,h),this.tileCache.set(a,n);return n},e.prototype.setRenderReprojectionEdges=function(t){if(r.j&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(r.j){var i=(0,_.U2)(t);if(i){var n=(0,o.sq)(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=e)}}},e}(E.Z);function I(t,e){t.getImage().src=e}const Z=C},91587:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});var r=i(14431),o=i(38906),n=i(21915),s=i(13580),a=i(21882),h=i(18672),l=i(52209),u=i(50596),c=i(76122),p=i(99274),g=i(70701),_=i(79313),d=i(78487);function f(t,e,i){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(i)),!(o.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var a=o.getResolution(t[0]),h=o.getTileCoordExtent(t,this.tmpExtent_),l=(0,u.Pq)(o.getTileSize(t[0]),this.tmpSize),c=this.gutter_;0!==c&&(l=(0,u.f3)(l,c,this.tmpSize),h=(0,n.f3)(h,a*c,h)),1!=e&&(l=(0,u.bA)(l,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,s.f0)(p,this.params_),this.getRequestUrl_(t,l,h,e,i,p)}}const v=function(t){function e(e){var i=e||{},r=i.params||{},o=!("TRANSPARENT"in r)||r.TRANSPARENT;t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!o,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:f,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=r,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=(0,n.lJ)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,o){var a=(0,h.U2)(i),c=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(a));var g=p.getTileCoordForCoordAndResolution(t,e);if(!(p.getResolutions().length<=g[0])){var _=p.getResolution(g[0]),d=p.getTileCoordExtent(g,this.tmpExtent_),f=(0,u.Pq)(p.getTileSize(g[0]),this.tmpSize),v=this.gutter_;0!==v&&(f=(0,u.f3)(f,v,this.tmpSize),d=(0,n.f3)(d,_*v,d)),c&&c!==a&&(_=(0,l.a)(c,a,t,_),d=(0,h.$A)(d,a,c),t=(0,h.vs)(t,a,c));var m={SERVICE:"WMS",VERSION:r.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,s.f0)(m,this.params_,o);var T=Math.floor((t[0]-d[0])/_),y=Math.floor((d[3]-t[1])/_);return m[this.v13_?"I":"X"]=T,m[this.v13_?"J":"Y"]=y,this.getRequestUrl_(g,f,d,1,c||a,m)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,r,n,s){var h=this.urls;if(h){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=r)switch(this.serverType_){case p.Z.GEOSERVER:var l=90*r+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+l:s.FORMAT_OPTIONS="dpi:"+l;break;case p.Z.MAPSERVER:s.MAP_RESOLUTION=90*r;break;case p.Z.CARMENTA_SERVER:case p.Z.QGIS:s.DPI=90*r;break;default:(0,o.h)(!1,52)}var u,c,_=n.getAxisOrientation(),f=i;return this.v13_&&"ne"==_.substr(0,2)&&(u=i[0],f[0]=i[1],f[1]=u,u=i[2],f[2]=i[3],f[3]=u),s.BBOX=f.join(","),c=1==h.length?h[0]:h[(0,a.$W)((0,g.vp)(t),h.length)],(0,d.B)(c,s)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){(0,s.f0)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.E;this.v13_=(0,_.n)(t,"1.3")>=0},e}(c.Z)},44280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>f});var r=i(49179),o=i(59900),n=i(89434),s=i(93888),a=i(9520),h=i(18672),l=i(50596),u=i(71405),c=i(70701),p=i(86018),g=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new s.Z(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var s,a,h,l=!0,u=i.minX;u<=i.maxX;++u)for(var p=i.minY;p<=i.maxY;++p)a=(0,c.lg)(e,u,p),h=!1,n.containsKey(a)&&(h=(s=n.get(a)).getState()===o.Z.LOADED)&&(h=!1!==r(s)),h||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,o,n){return(0,r.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,p.X$)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,h.OP)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),n=(0,l.Pq)(r.getTileSize(t),this.tmpSize);return 1==o?n:(0,l.bA)(n,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,p.Cf)(r,t,i)),(0,c.tE)(t,r)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,r){},e}(u.Z),_=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.ZP);var d=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):n.vU,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,n=(0,r.sq)(i),s=i.getState();s==o.Z.LOADING?(this.tileLoadingKeys_[n]=!0,e="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],e=s==o.Z.ERROR?"tileloaderror":s==o.Z.LOADED||s==o.Z.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new _(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=(0,n.Gk)(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.uR)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var r=(0,c.lg)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(g);const f=d},99274:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const r={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},14431:(t,e,i)=>{"use strict";i.d(e,{E:()=>r});var r="1.3.0"},70701:(t,e,i)=>{"use strict";function r(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function o(t,e,i){return t+"/"+e+"/"+i}function n(t){return o(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function h(t){var e,i,r=t[0],o=new Array(r),n=1<<r-1;for(e=0;e<r;++e)i=48,t[1]&n&&(i+=1),t[2]&n&&(i+=2),o[e]=String.fromCharCode(i),n>>=1;return o.join("")}function l(t,e){var i=t[0],r=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var n,s=e.getExtent();return!(n=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i))||n.containsXY(r,o)}i.d(e,{T9:()=>r,lg:()=>o,km:()=>n,Ul:()=>s,vp:()=>a,OT:()=>h,tE:()=>l})},86018:(t,e,i)=>{"use strict";i.d(e,{X$:()=>u,Cf:()=>c,dl:()=>p,RZ:()=>_,Tl:()=>d});var r=i(10508),o=i(50596),n=i(21915),s=i(51748),a=i(18672),h=i(40868),l=i(8930);function u(t){var e=t.getDefaultTileGrid();return e||(e=_(t),t.setDefaultTileGrid(e)),e}function c(t,e,i){var r=e[0],o=t.getTileCoordCenter(e),s=d(i);if((0,n.b8)(s,o))return e;var a=(0,n.dz)(s),h=Math.ceil((s[0]-o[0])/a);return o[0]+=a*h,t.getTileCoordForCoordAndZ(o,r)}function p(t){var e=t||{},i=e.extent||(0,a.U2)("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:g(i,e.maxZoom,e.tileSize)};return new l.Z(r)}function g(t,e,i){for(var s=void 0!==e?e:r.e,a=(0,n.Cr)(t),h=(0,n.dz)(t),l=(0,o.Pq)(void 0!==i?i:r.S),u=Math.max(h/l[0],a/l[1]),c=s+1,p=new Array(c),g=0;g<c;++g)p[g]=u/Math.pow(2,g);return p}function _(t,e,i,r){return function(t,e,i,r){var o=void 0!==r?r:s.Z.TOP_LEFT,a=g(t,e,i);return new l.Z({extent:t,origin:(0,n.g0)(t,o),resolutions:a,tileSize:i})}(d(t),e,i,r)}function d(t){var e=(t=(0,a.U2)(t)).getExtent();if(!e){var i=180*h.METERS_PER_UNIT[h.default.DEGREES]/t.getMetersPerUnit();e=(0,n.T9)(-i,-i,i,i)}return e}},8930:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var r=i(10508),o=i(38906),n=i(19473),s=i(79682),a=i(21915),h=i(21882),l=i(50596),u=i(70701),c=[0,0,0],p=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,o.h)((0,s.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,h=this.resolutions_.length-1;i<h;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,o.h)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=(0,a.rL)(l)),(0,o.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,o.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.S,(0,o.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):l&&this.calculateTileRanges_(l)};p.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,o,s])},p.prototype.forEachTileCoordParentTileRange=function(t,e,i,r,o){var s,a,h,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],h=t[2]):l=this.getTileCoordExtent(t,o);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),h=Math.floor(h/2),s=(0,n.T)(a,a,h,h,r)):s=this.getTileRangeForExtentAndZ(l,u,r),e.call(i,u,s))return!0;--u}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return(0,n.T)(r,r+1,o,o+1,e)}var s=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},p.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),o=this.getResolution(t),n=(0,l.Pq)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*n[0]*o,h=r[0]+(e.maxX+1)*n[0]*o,u=r[1]+e.minY*n[1]*o,c=r[1]+(e.maxY+1)*n[1]*o;return(0,a.T9)(s,u,h,c,i)},p.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=c;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var o=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),(0,n.T)(o,r[1],s,r[2],i)},p.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=(0,l.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]+(t[2]+.5)*r[1]*i]},p.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=(0,l.Pq)(this.getTileSize(t[0]),this.tmpSize_),n=i[0]+t[1]*o[0]*r,s=i[1]+t[2]*o[1]*r,h=n+o[0]*r,u=s+o[1]*r;return(0,a.T9)(n,s,h,u,e)},p.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,o){var n=this.getZForResolution(i),s=i/this.getResolution(n),a=this.getOrigin(n),h=(0,l.Pq)(this.getTileSize(n),this.tmpSize_),c=r?.5:0,p=r?0:.5,g=Math.floor((t-a[0])/i+c),_=Math.floor((e-a[1])/i+p),d=s*g/h[0],f=s*_/h[1];return r?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),(0,u.T9)(n,d,f,o)},p.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,o){var n=this.getOrigin(i),s=this.getResolution(i),a=(0,l.Pq)(this.getTileSize(i),this.tmpSize_),h=r?.5:0,c=r?0:.5,p=Math.floor((t-n[0])/s+h),g=Math.floor((e-n[1])/s+c),_=p/a[0],d=g/a[1];return r?(_=Math.ceil(_)-1,d=Math.ceil(d)-1):(_=Math.floor(_),d=Math.floor(d)),(0,u.T9)(i,_,d,o)},p.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,e){var i=(0,s.h7)(this.resolutions_,t,e||0);return(0,h.uZ)(i,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i};const g=p},89434:(t,e,i)=>{"use strict";i.d(e,{uR:()=>a,Un:()=>h,vU:()=>l,Gk:()=>u});var r=i(38906),o=i(21882),n=i(70701);function s(t,e){var i=/\{z\}/g,o=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(a,h,l){return a?t.replace(i,a[0].toString()).replace(o,a[1].toString()).replace(n,(function(){return(-a[2]-1).toString()})).replace(s,(function(){var t=a[0],i=e.getFullTileRange(t);return(0,r.h)(i,55),(i.getHeight()+a[2]).toString()})):void 0}}function a(t,e){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=s(t[o],e);return h(r)}function h(t){return 1===t.length?t[0]:function(e,i,r){if(e){var s=(0,n.vp)(e),a=(0,o.$W)(s,t.length);return t[a](e,i,r)}}}function l(t,e,i){}function u(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r,o=i[1].charCodeAt(0),n=i[2].charCodeAt(0);for(r=o;r<=n;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}},78487:(t,e,i)=>{"use strict";function r(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var r=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}i.d(e,{B:()=>r})}}]);