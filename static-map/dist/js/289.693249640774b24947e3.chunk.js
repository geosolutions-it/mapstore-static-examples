(self.webpackChunkstatic_map=self.webpackChunkstatic_map||[]).push([[289],{80034:(t,e,i)=>{"use strict";i.d(e,{jF:()=>It,Fc:()=>Et,EC:()=>Ot,C2:()=>Rt,Cw:()=>wt,rm:()=>bt});var o=i(14293),r=i.n(o),n=i(92742),s=i.n(n),a=i(47037),l=i.n(a),h=i(1469),u=i.n(h),c=i(84596),p=i.n(c),d=i(91175),g=i.n(d),f=i(10928),y=i.n(f),_=i(13311),v=i.n(_),m=i(13218),S=i.n(m),T=i(21915),E=i(77901),x=i(10312),C=i(30749),w=i(81763),R=i.n(w),O=i(31219),b=i(62875),I=i(15565),L=i(98185),F=i(83051),P=i.n(F);const k=C.Z.markers.extra,A=k.icons[0],Z=k.icons[1],M=k.size[1],D=C.Z.getGlyphs("fontawesome"),G=({highlight:t,rotation:e=0},i)=>t?[new O.default({image:new b.default({anchor:[.5,i],rotation:e,anchorXUnits:"fraction",anchorYUnits:"pixels",src:P(),scale:.5})})]:[],N=(t,e)=>{var i,o;let r=null==D?void 0:D[null==t||null===(i=t.style)||void 0===i?void 0:i.iconGlyph],n="FontAwesome",s=2;return null!=t&&null!==(o=t.style)&&void 0!==o&&o.iconText&&(r=t.style.iconText,n="sans-serif",s=1.6),new I.default({rotation:e,text:r,font:`14px ${n}`,offsetY:-M*s/3,fill:new L.default({color:"#FFFFFF"})})},j={extra:{getIcon:(t={})=>{const e=r()(t.style&&t.style.rotation)?0:t.style.rotation;return[new O.default({image:new b.default({rotation:e,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:Z})}),new O.default({image:new b.default({rotation:e,src:A,anchor:[k.size[0]/2,k.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:k.size,offset:[k.colors.indexOf(t.style.iconColor||"blue")*k.size[0],k.shapes.indexOf(t.style.iconShape||"circle")*k.size[1]]}),text:N(t,e)})].concat(G(t.style,2*(M+15)))}},standard:{getIcon:({style:t,iconAnchor:e})=>{const i=r()(t&&t.rotation)?0:t.rotation,o=t.iconAnchor||e;let n=[new O.default({image:new b.default({anchor:o||[.5,1],anchorXUnits:t.anchorXUnits||(o||0===o?"pixels":"fraction"),anchorYUnits:t.anchorYUnits||(o||0===o?"pixels":"fraction"),size:u()(t.size)?t.size:R()(t.size)?[t.size,t.size]:void 0,rotation:i,anchorOrigin:t.anchorOrigin||"top-left",src:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl})})];t.shadowUrl&&(n=[new O.default({image:new b.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:t.shadowUrl})}),n[0]]);let s=u()(t.size)?t.size[1]:R()(t.size)?t.size:0;return s=s>32?s+.75*s:M+10,n.concat(G(t,s))}},html:{getIcon:()=>null}};var z=i(79055),U=i(9371),Y=i(20767),W=i(52043),K=i(44538),X=i(82702),q=i(38807),B=i.n(q),V=i(53772),H=i.n(V),Q=i(75722),J=i.n(Q),$=i(87404),tt=i.n($),et=i(27418),it=i.n(et),ot=i(94310);const rt=[0,153,255,1],nt=new U.default({radius:5,fill:null,stroke:new Y.default({color:"red",width:1})}),st=({radius:t=5,fillColor:e="green",applyToPolygon:i=!1}={})=>new O.default({image:new U.default({radius:t,fill:new L.default({color:e})}),geometry:function(t){const e=t.getGeometry(),o=e.getType();if(!i&&"Polygon"===o)return null;let r="Polygon"===o?e.getCoordinates()[0]:e.getCoordinates();return r.length>1?new W.Z(g()(r)):null}}),at=({radius:t=5,fillColor:e="red",applyToPolygon:i=!1}={})=>new O.default({image:new U.default({radius:t,fill:new L.default({color:e})}),geometry:function(t){const e=t.getGeometry(),o=e.getType();if(!i&&"Polygon"===o)return null;let r="Polygon"===o?e.getCoordinates()[0]:e.getCoordinates();return new W.Z(r.length>3?r[r.length-("Polygon"===o?2:1)]:y()(r))}}),lt=(t={},e={})=>[st(t),at(e)],ht=(t,e,i=!1)=>new O.default({text:new I.default({offsetY:-4*Math.sqrt(t.fontSize),textAlign:t.textAlign||"center",text:e||"",font:t.font,fill:new L.default({color:(0,E.qq)(t.stroke||t.color||"#000000",t.opacity||1)}),stroke:i?new Y.default({color:[255,255,255,1],width:2}):null}),image:i?new U.default({radius:5,fill:null,stroke:new Y.default({color:(0,E.qq)(t.color||"#0000FF",t.opacity||1),width:t.weight||1})}):null}),ut={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},ct={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},pt={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},dt={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:ut,MultiPoint:ut,LineString:ct,MultiLineString:ct,Polygon:pt,MultiPolygon:pt},gt=(t,e={color:"blue",width:3,lineDash:[6]})=>({stroke:new Y.default(t.style?t.style.stroke||{color:t.style.color||e.color,lineDash:l()(t.style.dashArray)&&s()(t.style.dashArray).split(" ")||e.lineDash,width:t.style.weight||e.width,lineCap:t.style.lineCap||"round",lineJoin:t.style.lineJoin||"round",lineDashOffset:t.style.dashOffset||0}:{...e})}),ft=(t,e={color:"rgba(0, 0, 255, 0.1)"})=>({fill:new L.default(t.style?t.style.fill||{color:(0,E.qq)(t.style.fillColor,t.style.fillOpacity)||e.color}:{...e})}),yt={Point:()=>[new O.default({image:nt})],LineString:t=>[new O.default(it()({},gt(t,{color:"blue",width:3})))],MultiLineString:t=>[new O.default(it()({},gt(t,{color:"blue",width:3})))],MultiPoint:()=>[new O.default({image:nt})],MultiPolygon:t=>[new O.default(it()({},gt(t),ft(t)))],Polygon:t=>[new O.default(it()({},gt(t),ft(t)))],GeometryCollection:t=>[new O.default(it()({},gt(t),ft(t),{image:new U.default({radius:10,fill:null,stroke:new Y.default({color:"magenta"})})}))],Circle:()=>[new O.default({stroke:new Y.default({color:"red",width:2}),fill:new L.default({color:"rgba(255,0,0,0.2)"})})],marker:t=>[new O.default({image:new b.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:tt()})}),new O.default({image:new b.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:J()}),text:new I.default({text:t.label,scale:1.25,offsetY:8,fill:new L.default({color:"#000000"}),stroke:new Y.default({color:"#FFFFFF",width:2})})})]},_t=function(t,e){const i=t.getGeometry().getType();return yt[i](e&&e.style&&e.style[i]&&{style:{...e.style[i]}}||e||{})};function vt(t){if(t.style.iconUrl)return j.standard.getIcon(t);const e=t.style.iconLibrary||"extra";return j[e]?j[e].getIcon(t):null}const mt=(t,e={style:dt},i,o,n,s=0)=>{let a=e.style[t]||e.style;if("MultiLineString"===t||"LineString"===t){let o=[new O.default({stroke:e.style.useSelectedStyle?new Y.default({color:[255,255,255,1],width:a.weight+2}):null}),new O.default(a?{stroke:new Y.default(a&&a.stroke?a.stroke:{color:(0,E.qq)(e.style&&a.color||"#0000FF",a.opacity||1),lineDash:e.style.highlight?[10]:[0],width:a.weight||1}),image:i?nt:null}:{stroke:new Y.default(dt[t]&&dt[t].stroke?dt[t].stroke:{color:(0,E.qq)(e.style&&dt[t].color||"#0000FF",dt[t].opacity||1),lineDash:e.style.highlight?[10]:[0],width:dt[t].weight||1})})];return[...e.style.useSelectedStyle?lt({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[],...o]}return"MultiPoint"!==t&&"Point"!==t||!a.iconUrl&&!a.iconGlyph?"Circle"===t&&s?[new O.default({stroke:e.style.useSelectedStyle?new Y.default({color:[255,255,255,1],width:a.weight+4}):null}),new O.default({stroke:new Y.default(a&&a.stroke?a.stroke:{color:e.style.useSelectedStyle?rt:(0,E.qq)(e.style&&a.color||"#0000FF",a.opacity||1),lineDash:e.style.highlight?[10]:[0],width:a.weight||1}),fill:new L.default(a.fill?a.fill:{color:(0,E.qq)(e.style&&a.fillColor||"#0000FF",a.fillOpacity||.2)})}),new O.default({image:e.style.useSelectedStyle?new U.default({radius:3,fill:new L.default(a.fill?a.fill:{color:rt})}):null,geometry:function(t){const e=t.getGeometry();if("Circle"===e.getType()){let t=e.getCenter();return new W.Z(t)}return null}})]:"Text"===t&&a.font?[ht(a,o[0],e.style.useSelectedStyle||e.style.highlight)]:"MultiPolygon"===t||"Polygon"===t?[new O.default({stroke:e.style.useSelectedStyle?new Y.default({color:[255,255,255,1],width:a.weight+2}):null}),new O.default({stroke:new Y.default(a.stroke?a.stroke:{color:e.style.useSelectedStyle?rt:(0,E.qq)(e.style&&a.color||"#0000FF",r()(a.opacity)?1:a.opacity),lineDash:e.style.highlight?[10]:[0],width:a.weight||1}),image:i?nt:null,fill:new L.default(a.fill?a.fill:{color:(0,E.qq)(e.style&&a.fillColor||"#0000FF",r()(a.fillOpacity)?1:a.fillOpacity)})}),...e.style.useSelectedStyle?lt({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[]]:n:i?new O.default({image:nt}):vt({style:{...a,highlight:e.style.highlight||e.style.useSelectedStyle}})},St=new(H()),Tt={white:[255,255,255,1],blue:[0,153,255,1],width:3},Et=t=>{if((0,z.isMarkerStyle)(t)){if(t.iconUrl)return j.standard.getIcon({style:t});const e=t.iconLibrary||"extra";if(j[e])return j[e].getIcon({style:t})}return null};(0,z.registerGeometryFunctions)("centerPoint",(t=>{const e=t.getGeometry(),{isGeodesic:i=!1}=t.getProperties(),o=e.getExtent();let r=i?(0,T.qg)(o):e.getCenter&&e.getCenter()||[o[2]-o[0],o[3]-o[1]];return new W.Z(r)}),"Point"),(0,z.registerGeometryFunctions)("lineToArc",(t=>{const e=t.getGeometry().getType();if("LineString"===e||"MultiPoint"===e){let e=t.getGeometry().getCoordinates();return e=(0,x.transformLineToArcs)(e.map((t=>{const e=(0,x.reproject)(t,"EPSG:3857","EPSG:4326");return[e.x,e.y]}))),new K.Z(e.map((t=>{const e=(0,x.reproject)(t,"EPSG:4326","EPSG:3857");return[e.x,e.y]})))}return t.getGeometry()}),"LineString"),(0,z.registerGeometryFunctions)("startPoint",(t=>{const e=t.getGeometry();let i="Polygon"===e.getType()?e.getCoordinates()[0]:e.getCoordinates();return i.length>1?new W.Z(g()(i)):null}),"Point"),(0,z.registerGeometryFunctions)("endPoint",(t=>{const e=t.getGeometry(),i=e.getType();let o="Polygon"===i?e.getCoordinates()[0]:e.getCoordinates();return new W.Z(o.length>3?o[o.length-("Polygon"===i?2:1)]:y()(o))}),"Point");const xt=(t={})=>t.geometry?e=>{const i=t.geometry||"centerPoint";return z.geometryFunctions[i].func(e)}:t=>t.getGeometry(),Ct=(t={properties:{}},e={},i=[])=>{if(((t={})=>!!r()(t.filtering)||t.filtering)(e)){const o=((t={})=>(0,z.isStrokeStyle)(t)?new Y.default(t.stroke&&S()(t.stroke)?t.stroke:{color:t.highlight?Tt.blue:(0,E.qq)(t.color||t.stroke||"#0000FF",r()(t.opacity)?1:t.opacity),width:r()(t.weight)?1:t.weight,lineDash:l()(t.dashArray)&&s()(t.dashArray).split(" ")||u()(t.dashArray)&&t.dashArray||[0],lineCap:t.lineCap||"round",lineJoin:t.lineJoin||"round",lineDashOffset:t.dashOffset||0}):null)(e),n=((t={})=>(0,z.isFillStyle)(t)?new L.default(t.fill&&S()(t.fill)?t.fill:{color:(0,E.qq)(t.fillColor||"#0000FF",r()(t.fillOpacity)?1:t.fillOpacity)}):null)(e),a=((t={},e=null,i=null)=>(0,z.isCircleStyle)(t)?new U.default({stroke:e,fill:i,radius:t.radius||5}):null)(e,o,n);if((0,z.isMarkerStyle)(e))return Et(e).map((t=>(t.setGeometry(xt(e)),t)));if((0,z.isSymbolStyle)(e))return j.standard.getIcon({style:e}).map((t=>(t.setGeometry(xt(e)),t)));const h=((t={},e=null,i=null,o)=>(0,z.isTextStyle)(t)?new I.default({fill:i,offsetY:t.offsetY||-4*Math.sqrt(t.fontSize),rotation:t.textRotationDeg?t.textRotationDeg/180*Math.PI:0,textAlign:t.textAlign||"center",text:t.label||o&&o.properties&&o.properties.valueText||"New",font:t.font||"Arial",stroke:t.highlight?new Y.default({color:[255,255,255,1],width:2}):e,image:t.highlight?new U.default({radius:5,fill:null,stroke:new Y.default({color:(0,E.qq)(t.color||"#0000FF",t.opacity||1),width:t.weight||1})}):null}):null)(e,o,n,t),c=e.zIndex;return[new O.default({geometry:xt(e),image:a,text:h,stroke:!h&&!a&&o||null,fill:!h&&!a&&n||null,zIndex:c})].concat(t&&t.properties&&t.properties.canEdit&&!t.properties.isCircle?((t=[],e={radius:3,fillColor:"green",applyToPolygon:!0},i={radius:3,fillColor:"red",applyToPolygon:!0})=>{let o=[];return v()(t,(t=>"startPoint"===t.geometry&&t.filtering))||o.push((({radius:t=5,fillColor:e="green",applyToPolygon:i=!1}={})=>new O.default({image:new U.default({radius:t,fill:new L.default({color:e})}),geometry:function(t){const e=t.getGeometry(),o=e.getType();if(!i&&"Polygon"===o)return null;let r="Polygon"===o?e.getCoordinates()[0]:e.getCoordinates();return r.length>1?new W.Z(g()(r)):null}}))({...e})),v()(t,(t=>"endPoint"===t.geometry&&t.filtering))||o.push((({radius:t=5,fillColor:e="red",applyToPolygon:i=!1}={})=>new O.default({image:new U.default({radius:t,fill:new L.default({color:e})}),geometry:function(t){const e=t.getGeometry(),o=e.getType();if(!i&&"Polygon"===o)return null;let r="Polygon"===o?e.getCoordinates()[0]:e.getCoordinates();return new W.Z(r.length>3?r[r.length-("Polygon"===o?2:1)]:y()(r))}}))({...i})),o})(i):[])}return new O.default({})},wt=(t={properties:{}})=>{let e=t.style;if(e){let i=u()(e)?e:p()(e);return i.reduce(((e,o)=>e.concat(Ct(t,o,i))),[])}return[]},Rt=(t,e=!1,i=[])=>{if(t.style&&t.style.url)return B().get(t.style.url).then((e=>(0,z.getStyleParser)(t.style.format).readStyle(e.data).then((t=>St.writeStyle(t)))));if(t.style&&"geostyler"===t.style.format)return St.writeStyle(t.style.styleObj);const o=function(t,e=!1,i=[]){if(t.styleName&&!t.overrideOLStyle)return e=>{if("marker"===t.styleName)switch(e.getGeometry().getType()){case"Point":case"MultiPoint":return yt.marker(t)}return yt[t.styleName](t)};let o,n=t.nativeStyle,s=i,a=0,l=t.style&&t.style.type||(t.features&&t.features[0]&&t.features[0].geometry?t.features[0].geometry.type:void 0);if("FeatureCollection"===l||t.features&&t.features[0]&&"FeatureCollection"===t.features[0].type)return function(i){var r=this||i;o=r.getGeometry()&&r.getGeometry().getType();const n=r&&r.getProperties();n&&n.isCircle&&(o="Circle",a=n.radius),n&&n.isText&&(o="Text",s=[n.valueText]);const l=(0,ot.t8)("style.useSelectedStyle",n.canEdit,t);return mt(o,l,e,s,null,a)};if(t&&t.properties&&t.properties.isText)return o="Text",s=[t.properties.valueText],mt(o,t,e,s,null,a);if(t&&t.properties&&t.properties.isCircle)return o="Circle",a=t.properties.radius,mt(o,t,e,s,null,a);if(!n&&t.style){if(n={stroke:new Y.default(t.style.stroke?t.style.stroke:{color:(0,E.qq)(t.style&&t.style.color||"#0000FF",r()(t.style.opacity)?1:t.style.opacity),lineDash:t.style.highlight?[10]:[0],width:t.style.weight||1}),fill:new L.default(t.style.fill?t.style.fill:{color:(0,E.qq)(t.style&&t.style.fillColor||"#0000FF",r()(t.style.fillOpacity)?1:t.style.fillOpacity)})},"Point"!==l&&"MultiPoint"!==l||(n={image:new U.default(it()({},n,{radius:t.style.radius||5}))}),t.style.iconUrl||t.style.iconGlyph){const e=vt(t);return n=function(i){var r=this||i;switch(o=r.getGeometry().getType(),o){case"Point":case"MultiPoint":return e;default:return _t(r,t)}},n}return n=new O.default(n),"GeometryCollection"===l?(n=function(r){var n=this||r;let s;o=n.getGeometry().getType();let a=n.get("textGeometriesIndexes")||[],l=n.get("circles")||[],h=n.get("textValues");return"GeometryCollection"===n.getGeometry().getType()?n.getGeometry().getGeometries().reduce(((r,n,c)=>{if(o=n.getType(),("Point"===o||"MultiPoint"===o)&&a.length&&-1!==a.indexOf(c)){let i=mt("Text",t,e,[h[a.indexOf(c)]]);return i.setGeometry(n),r.concat([i])}if("Polygon"===o&&l.length&&-1!==l.indexOf(c)){let i=mt("Circle",t,e,[]);return i.setGeometry(n),r.concat([i])}if("Point"===o||"MultiPoint"===o)return s=vt({style:{...t.style[o],highlight:t.style.highlight}}),r.concat(s.map((t=>(t.setGeometry(n),t))));let p=mt(o,t,e,i);return u()(p)?p.forEach((t=>t.setGeometry(n))):p.setGeometry(n),r.concat([p])}),[]):"Point"===o||"MultiPoint"===o?(s=vt({style:{...t.style[o],highlight:t.style.highlight}}),e?new O.default({image:nt,geometry:n.getGeometry()}):s.map((t=>(t.setGeometry(n.getGeometry()),t)))):mt(o,t,e,i)},n):("Circle"===l&&(a=t.features&&t.features.length&&t.features[0].properties&&t.features[0].properties.radius||10),mt(l,t,e,i,n,a))}return n||_t}(t,e,i);return t.asPromise?new X.Promise((t=>{t(o)})):o},Ot=vt,bt=lt,It=dt},53772:function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(31219),n=i(48039),s=i(98185),a=i(20767),l=i(15565),h=i(9371),u=i(62875),c=i(18663),p=i(2661),d=i(39588),g=i(89539),f=i(27361),y=function(){function t(t){this.title="OpenLayers Style Parser",this.OlStyleConstructor=r.default,this.OlStyleImageConstructor=n.default,this.OlStyleFillConstructor=s.default,this.OlStyleStrokeConstructor=a.default,this.OlStyleTextConstructor=l.default,this.OlStyleCircleConstructor=h.default,this.OlStyleIconConstructor=u.default,this.OlStyleRegularshapeConstructor=c.default,this.isOlParserStyleFct=function(t){return"function"==typeof t},t&&(this.OlStyleConstructor=t.style.Style,this.OlStyleImageConstructor=t.style.Image,this.OlStyleFillConstructor=t.style.Fill,this.OlStyleStrokeConstructor=t.style.Stroke,this.OlStyleTextConstructor=t.style.Text,this.OlStyleCircleConstructor=t.style.Circle,this.OlStyleIconConstructor=t.style.Icon,this.OlStyleRegularshapeConstructor=t.style.RegularShape)}return t.prototype.getPointSymbolizerFromOlStyle=function(t){var e;if(t.getImage()instanceof this.OlStyleCircleConstructor){var i=t.getImage(),o=i.getFill(),r=i.getStroke();e={kind:"Mark",wellKnownName:"Circle",color:o?p.default.getHexColor(o.getColor()):void 0,opacity:o?p.default.getOpacity(o.getColor()):void 0,radius:0!==i.getRadius()?i.getRadius():5,strokeColor:r?r.getColor():void 0,strokeOpacity:r?p.default.getOpacity(r.getColor()):void 0,strokeWidth:r?r.getWidth():void 0}}else if(t.getImage()instanceof this.OlStyleRegularshapeConstructor){var n=t.getImage(),s=(o=n.getFill(),r=n.getStroke(),n.getRadius()),a=n.getRadius2(),l=n.getPoints(),h=n.getAngle(),u={kind:"Mark",color:o?p.default.getHexColor(o.getColor()):void 0,opacity:o?p.default.getOpacity(o.getColor()):void 0,strokeColor:r?r.getColor():void 0,strokeOpacity:r?p.default.getOpacity(r.getColor()):void 0,strokeWidth:r?r.getWidth():void 0,radius:0!==s?s:5,rotate:n.getRotation()/Math.PI*180};switch(l){case 2:switch(h){case 0:u.wellKnownName="shape://vertline";break;case Math.PI/2:u.wellKnownName="shape://horline";break;case Math.PI/4:u.wellKnownName="shape://slash";break;case 2*Math.PI-Math.PI/4:u.wellKnownName="shape://backslash"}break;case 3:switch(h){case 0:u.wellKnownName="Triangle";break;case Math.PI/2:u.wellKnownName="shape://carrow"}break;case 4:g.isNumber(a)?0===n.getAngle()?u.wellKnownName="Cross":u.wellKnownName="X":u.wellKnownName="Square";break;case 5:u.wellKnownName="Star";break;default:throw new Error("Could not parse OlStyle. Only 2, 3, 4 or 5 point regular shapes are allowed")}e=u}else{var c=t.getImage();e={kind:"Icon",image:c.getSrc()?c.getSrc():void 0,opacity:c.getOpacity(),size:0!==c.getScale()?c.getScale():5,rotate:c.getRotation()/Math.PI*180}}return e},t.prototype.getLineSymbolizerFromOlStyle=function(t){var e=t.getStroke();return{kind:"Line",color:e?p.default.getHexColor(e.getColor()):void 0,opacity:e?p.default.getOpacity(e.getColor()):void 0,width:e?e.getWidth():void 0,cap:e?e.getLineCap():"butt",join:e?e.getLineJoin():"miter",dasharray:e?e.getLineDash():void 0,dashOffset:e?e.getLineDashOffset():void 0}},t.prototype.getFillSymbolizerFromOlStyle=function(t){var e=t.getFill(),i=t.getStroke();return{kind:"Fill",color:e?p.default.getHexColor(e.getColor()):void 0,opacity:e?p.default.getOpacity(e.getColor()):void 0,outlineColor:i?i.getColor():void 0,outlineWidth:i?i.getWidth():void 0}},t.prototype.getTextSymbolizerFromOlStyle=function(t){var e,i=t.getText(),o=i.getFill(),r=i.getStroke(),n=i.getOffsetX(),s=i.getOffsetY(),a=i.getFont(),l=i.getRotation(),h=i.getText(),u=1/0,c=void 0;if(a){var d=a.split("px");e=d[0].trim().split(" "),u=parseInt(e[e.length-1],10),c=(2===d.length?d[1]:d[2]).split(",").map((function(t){return t.startsWith(" ")?t.slice(1):t}))}return{kind:"Text",label:h,color:o?p.default.getHexColor(o.getColor()):void 0,size:isFinite(u)?u:void 0,font:c,offset:void 0!==n&&void 0!==s?[n,s]:[0,0],haloColor:r&&r.getColor()?p.default.getHexColor(r.getColor()):void 0,haloWidth:r?r.getWidth():void 0,rotate:void 0!==l?l/Math.PI*180:void 0}},t.prototype.getSymbolizersFromOlStyle=function(t){var e=this,i=[];return t.forEach((function(t){var o;switch(e.getStyleTypeFromOlStyle(t)){case"Point":o=t.getText()?e.getTextSymbolizerFromOlStyle(t):e.getPointSymbolizerFromOlStyle(t);break;case"Line":o=e.getLineSymbolizerFromOlStyle(t);break;case"Fill":o=e.getFillSymbolizerFromOlStyle(t);break;default:throw new Error("Failed to parse SymbolizerKind from OpenLayers Style")}i.push(o)})),i},t.prototype.getRuleFromOlStyle=function(t){return{name:"OL Style Rule 0",symbolizers:Array.isArray(t)?this.getSymbolizersFromOlStyle(t):this.getSymbolizersFromOlStyle([t])}},t.prototype.getStyleTypeFromOlStyle=function(t){var e;if(t.getImage()instanceof this.OlStyleImageConstructor)e="Point";else if(t.getText()instanceof this.OlStyleTextConstructor)e="Point";else if(t.getFill()instanceof this.OlStyleFillConstructor)e="Fill";else{if(!t.getStroke()||t.getFill())throw new Error("StyleType could not be detected");e="Line"}return e},t.prototype.olStyleToGeoStylerStyle=function(t){return{name:"OL Style",rules:[this.getRuleFromOlStyle(t)]}},t.prototype.readStyle=function(t){var e=this;return new Promise((function(i,o){try{e.isOlParserStyleFct(t)?i(t.__geoStylerStyle):i(e.olStyleToGeoStylerStyle(t))}catch(t){o(t)}}))},t.prototype.writeStyle=function(t){var e=this;return new Promise((function(i,o){try{i(e.getOlStyleTypeFromGeoStylerStyle(t))}catch(t){o(t)}}))},t.prototype.getOlStyleTypeFromGeoStylerStyle=function(t){var e=t.rules;if(1===e.length){var i=void 0!==f(t,"rules[0].filter"),o=void 0!==f(t,"rules[0].scaleDenominator.min"),r=void 0!==f(t,"rules[0].scaleDenominator.max"),n=!(!o&&!r),s=t.rules[0].symbolizers.length,a=e[0].symbolizers.some((function(t){return"Text"===t.kind}));return i||n||a?this.geoStylerStyleToOlParserStyleFct(t):1===s?this.geoStylerStyleToOlStyle(t):this.geoStylerStyleToOlStyleArray(t)}return this.geoStylerStyleToOlParserStyleFct(t)},t.prototype.geoStylerStyleToOlStyle=function(t){var e=t.rules[0].symbolizers[0];return this.getOlSymbolizerFromSymbolizer(e)},t.prototype.geoStylerStyleToOlStyleArray=function(t){var e=this,i=t.rules[0],o=[];return i.symbolizers.forEach((function(t){var i=e.getOlSymbolizerFromSymbolizer(t);o.push(i)})),o},t.prototype.geoStylerStyleToOlParserStyleFct=function(t){var e=this,i=t.rules,o=function(t,o){var r=[],n=d.default.getScaleForResolution(o,"m");return i.forEach((function(i){var s=f(i,"scaleDenominator.min"),a=f(i,"scaleDenominator.max"),l=!0;void 0===s&&void 0===a||(void 0!==s&&n<s&&(l=!1),void 0!==a&&n>=a&&(l=!1));var h=!1;if(i.filter)try{h=e.geoStylerFilterToOlParserFilter(t,i.filter)}catch(t){h=!1}else h=!0;l&&h&&i.symbolizers.forEach((function(i){var n=e.getOlSymbolizerFromSymbolizer(i);if("function"!=typeof n)r.push(n);else{var s=n(t,o);r.push(s)}}))})),r};return o.__geoStylerStyle=t,o},t.prototype.geoStylerFilterToOlParserFilter=function(t,e){var i=this,o=!0,r=!1;({"&&":!0,"||":!0,"!":!0})[e[0]]&&(r=!0);try{if(r)switch(e[0]){case"&&":var n=!0,s=e.slice(1);s.forEach((function(e){i.geoStylerFilterToOlParserFilter(t,e)||(n=!1)})),o=n;break;case"||":n=!1,(s=e.slice(1)).forEach((function(e){i.geoStylerFilterToOlParserFilter(t,e)&&(n=!0)})),o=n;break;case"!":o=!this.geoStylerFilterToOlParserFilter(t,e[1]);break;default:throw new Error("Cannot parse Filter. Unknown combination or negation operator.")}else{var a=t.get(e[1]);switch(e[0]){case"==":o=""+a==""+e[2];break;case"*=":"string"==typeof e[2]&&"string"==typeof a&&(o=!(e[2].length>a.length)&&-1!==a.indexOf(e[2]));break;case"!=":o=""+a!=""+e[2];break;case"<":o=parseFloat(a)<parseFloat(e[2]);break;case"<=":o=parseFloat(a)<=parseFloat(e[2]);break;case">":o=parseFloat(a)>parseFloat(e[2]);break;case">=":o=parseFloat(a)>=parseFloat(e[2]);break;default:throw new Error("Cannot parse Filter. Unknown comparison operator.")}}}catch(t){throw new Error("Cannot parse Filter. Invalid structure.")}return o},t.prototype.getOlSymbolizerFromSymbolizer=function(t){var e;switch(t.kind){case"Mark":e=this.getOlPointSymbolizerFromMarkSymbolizer(t);break;case"Icon":e=this.getOlIconSymbolizerFromIconSymbolizer(t);break;case"Text":e=this.getOlTextSymbolizerFromTextSymbolizer(t);break;case"Line":e=this.getOlLineSymbolizerFromLineSymbolizer(t);break;case"Fill":e=this.getOlPolygonSymbolizerFromFillSymbolizer(t);break;default:var i=new this.OlStyleFillConstructor({color:"rgba(255,255,255,0.4)"}),o=new this.OlStyleStrokeConstructor({color:"#3399CC",width:1.25});e=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor({fill:i,stroke:o,radius:5}),fill:i,stroke:o})}return e},t.prototype.getOlPointSymbolizerFromMarkSymbolizer=function(t){var e;(t.strokeColor||void 0!==t.strokeWidth)&&(e=new this.OlStyleStrokeConstructor({color:t.strokeColor&&void 0!==t.strokeOpacity?p.default.getRgbaColor(t.strokeColor,t.strokeOpacity):t.strokeColor,width:t.strokeWidth}));var i,o={fill:new this.OlStyleFillConstructor({color:t.color&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}),opacity:t.opacity||1,radius:t.radius||5,rotation:t.rotate?t.rotate*Math.PI/180:void 0,stroke:e};switch(t.wellKnownName){case"shape://dot":case"Circle":i=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor(o)});break;case"Square":o.points=4,o.angle=45*Math.PI/180,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"Triangle":o.points=3,o.angle=0,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"Star":o.points=5,o.radius2=o.radius/2.5,o.angle=0,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://plus":case"Cross":o.points=4,o.radius2=0,o.angle=0,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://times":case"X":o.points=4,o.radius2=0,o.angle=45*Math.PI/180,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://backslash":o.points=2,o.angle=2*Math.PI-Math.PI/4,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://horline":o.points=2,o.angle=Math.PI/2,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://oarrow":case"shape://carrow":o.points=3,o.angle=Math.PI/2,i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://slash":o.points=2,o.angle=Math.PI/4,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://vertline":o.points=2,o.angle=0,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),i=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return i},t.prototype.getOlIconSymbolizerFromIconSymbolizer=function(t){return new this.OlStyleConstructor({image:new this.OlStyleIconConstructor({src:t.image,crossOrigin:"anonymous",opacity:t.opacity,scale:t.size||1,rotation:t.rotate?t.rotate*Math.PI/180:void 0})})},t.prototype.getOlLineSymbolizerFromLineSymbolizer=function(t){return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color,width:t.width,lineCap:t.cap,lineJoin:t.join,lineDash:t.dasharray,lineDashOffset:t.dashOffset})})},t.prototype.getOlPolygonSymbolizerFromFillSymbolizer=function(t){var e=t.color?new this.OlStyleFillConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}):null;return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:t.outlineColor,width:t.outlineWidth}),fill:e})},t.prototype.getOlTextSymbolizerFromTextSymbolizer=function(t){var e=this,i={font:p.default.getTextFont(t),fill:new this.OlStyleFillConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}),stroke:new this.OlStyleStrokeConstructor({color:t.haloColor&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.haloColor,t.opacity):t.haloColor,width:t.haloWidth?t.haloWidth:0}),offsetX:t.offset?t.offset[0]:0,offsetY:t.offset?t.offset[1]:0,rotation:t.rotate?t.rotate*Math.PI/180:void 0},r=new RegExp("\\{\\{.*?\\}\\}","g");return t.label&&t.label.match(r)?function(r,n){var s=new e.OlStyleTextConstructor(o({text:p.default.resolveAttributeTemplate(r,t.label,"")},i));return new e.OlStyleConstructor({text:s})}:new this.OlStyleConstructor({text:new this.OlStyleTextConstructor(o({text:t.label},i))})},t.title="OpenLayers Style Parser",t}();e.OlStyleParser=y,e.default=y},2661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getRgbaColor=function(t,e){return t.startsWith("rgba(")?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)?(e<0&&(e=1),"rgba("+parseInt(t.slice(1,3),16)+", "+parseInt(t.slice(3,5),16)+", "+parseInt(t.slice(5,7),16)+", "+e+")"):void 0},t.splitRgbaColor=function(t){var e=t.substring(t.indexOf("(")+1,t.lastIndexOf(")")).split(/,\s*/);return[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseFloat(e[3])]},t.getHexColor=function(e){return e.startsWith("#")?e:e.startsWith("rgb")?"#"+t.splitRgbaColor(e).map((function(t,e){var i=t.toString(16);return e<3?1===i.length?"0"+i:i:""})).join(""):void 0},t.getOpacity=function(e){if(e.startsWith("rgba(")){var i=t.splitRgbaColor(e);return 4===i.length?i[3]:void 0}},t.getTextFont=function(t){return"Normal "+t.size+"px "+t.font},t.resolveAttributeTemplate=function(t,e,i,o){void 0===i&&(i="n.v."),void 0===o&&(o=function(t,e){return e});var r=new RegExp("\\{\\{(.*?)\\}\\}","g"),n=e.match(r);return n&&n.forEach((function(r){for(var n=0,s=0,a=Object.entries(t.getProperties());s<a.length;s++){var l=a[s],h=l[0],u=l[1];if(r.slice(2,r.length-2).toLowerCase()===h.toLowerCase()){e=e.replace(r,o(h,u));break}n++}n===Object.keys(t.getProperties()).length&&(e=e.replace(r,i))})),e},t}();e.default=i},24515:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(77260)).default.getLogger("app-logger");r.setLevel("DEBUG"),e.default=r},5630:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(47037)),n=function(){function t(){}return t.urlify=function(t){return t.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')},t.coerce=function(e){if(!r.default(e))return e;if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1;if(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(e))return parseFloat(e);if(e.startsWith("["))return JSON.parse(e).map((function(e){return t.coerce(e)}));if(e.startsWith("{")){var i=JSON.parse(e),o={};return Object.keys(i).forEach((function(e){o[e]=t.coerce(i[e])})),o}return e},t.stringDivider=function(e,i,o){var r=0,n=i;if(e.length>i){for(var s=i,a=void 0,l=void 0;s>0&&" "!==e[s]&&"-"!==e[s];)s--;return s>0?(a="-"===e.substring(s,s+1)?e.substring(0,s+1):e.substring(0,s),l=e.substring(s+1),a+o+t.stringDivider(l,i,o)):(a=e.substring(r,n+1)+"-",l=e.substring(n+1),r=n,n+=i,a+o+t.stringDivider(l,i,o))}return e},t.stripHTMLTags=function(t){var e;return DOMParser&&(e=(new DOMParser).parseFromString(t,"text/html").body.textContent||""),e},t}();e.default=n},47063:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UrlUtil=void 0;var r=o(i(83457)),n=o(i(64210)),s=o(i(66678)),a=o(i(55114)),l=function(){function t(){}return t.read=function(t){return new r.default(t,null,n.default.parse)},t.write=function(t){return t.toString()},t.getBasePath=function(e){var i=t.read(e);return i.protocol+"//"+i.host+i.pathname},t.getQueryParams=function(e){return t.read(e).query},t.getQueryParam=function(e,i){var o=t.getQueryParams(e);return o[Object.keys(o).filter((function(t){return t.toLowerCase()===i.toLowerCase()}))[0]]},t.joinQueryParams=function(t,e,i){var o=s.default(t);return i.forEach((function(t){o[t]&&(o[t]=o[t].split(",").concat(e[t].split(",")).join(","))})),o},t.hasQueryParam=function(e,i){var o=t.getQueryParams(e);return!!Object.keys(o).some((function(t){return t.toLowerCase()===i.toLowerCase()}))},t.createValidGetCapabilitiesRequest=function(e,i,o){void 0===i&&(i="WMS"),void 0===o&&(o="1.3.0");var r=t.getBasePath(e),n=t.getQueryParams(e);return t.hasQueryParam(e,"SERVICE")||(n.SERVICE=i),t.hasQueryParam(e,"REQUEST")||(n.REQUEST="GetCapabilities"),t.hasQueryParam(e,"VERSION")||(n.VERSION=o),r+"?"+t.objectToRequestString(n)},t.bundleOgcRequests=function(e,i,o){void 0===i&&(i=!1),void 0===o&&(o=["LAYERS","QUERY_LAYERS","STYLES"]);var r={};e.forEach((function(e){var i=t.getQueryParams(e),n=t.getBasePath(e);if(r[n]){var s=r[n],a=i;r[n]=t.joinQueryParams(s,a,o)}else r[n]=i}));var n=[];if(i){for(var s=0,a=Object.entries(r);s<a.length;s++){var l=a[s],h=l[0],u=l[1],c=t.read(h);c.set("query",u),n.push(t.write(c))}return n}return r},t.objectToRequestString=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t.isValid=function(t,e){return void 0===e&&(e={require_tld:!1,require_protocol:!0}),a.default(t,e)},t}();e.UrlUtil=l,e.default=l},22899:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(i(47037)),r=s(i(1469)),n=s(i(5630));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){r=!0,n=t}finally{try{o||null==a.return||a.return()}finally{if(r)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"getFeatureTypeName",value:function(t){var e=t.getId(),i=e?e.split("."):e;return(0,r.default)(i)?i[0]:void 0}},{key:"getFeatureTypeNameFromGetFeatureInfoUrl",value:function(t){var e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=/query_layers=(.*?)(&|$)/i,r=t.match(o);return r&&r[1]&&(e=decodeURIComponent(r[1]),!i&&e.indexOf(":")>0&&(e=e.split(":")[1])),e}},{key:"resolveAttributeTemplate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n.v.",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t,e){return e},s="\\{\\{",l="\\}\\}",h="",u=new RegExp(s+"(.*?)"+l,"g"),c=(0,o.default)(e)?e.match(u):null;return c&&c.forEach((function(o){for(var n=0,s=0,l=Object.entries(t.getProperties());s<l.length;s++){var h=a(l[s],2),u=h[0],c=h[1];if(o.slice(2,o.length-2).toLowerCase()===u.toLowerCase()){e=e.replace(o,r(u,c));break}n++}n===Object.keys(t.getProperties()).length&&(e=e.replace(o,i))})),(h=e)||(h=t.getId()),(h=n.default.urlify(h)).replace(/\n/g,"<br>")}}],null&&l(e.prototype,null),i&&l(e,i),t}();e.default=h},39588:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MapUtil=void 0;var o=g(i(78471)),r=g(i(91587)),n=g(i(92663)),s=g(i(31742)),a=g(i(10410)),l=g(i(98090)),h=i(40868),u=g(i(47063)),c=g(i(24515)),p=g(i(22899)),d=g(i(30998));function g(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y,_,v,m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"getInteractionsByName",value:function(t,e){var i=[];return t instanceof o.default?(t.getInteractions().forEach((function(t){t.get("name")===e&&i.push(t)})),i):(c.default.debug("Input parameter map must be from type `ol.Map`."),i)}},{key:"getInteractionsByClass",value:function(t,e){var i=[];return t instanceof o.default?(t.getInteractions().forEach((function(t){t instanceof e&&i.push(t)})),i):(c.default.debug("Input parameter map must be from type `ol.Map`."),i)}},{key:"getResolutionForScale",value:function(t,e){var i=h.METERS_PER_UNIT[e];return parseFloat(t)/(39.37*i*(25.4/.28))}},{key:"getScaleForResolution",value:function(t,e){var i=h.METERS_PER_UNIT[e];return parseFloat(t)*i*39.37*(25.4/.28)}},{key:"getAllLayers",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!(e instanceof o.default||e instanceof s.default))return c.default.error("Input parameter collection must be from type `ol.Map`or `ol.layer.Group`."),[];var r=e.getLayers().getArray(),n=[];return r.forEach((function(e){e instanceof s.default&&t.getAllLayers(e).forEach((function(t){i(t)&&n.push(t)})),i(e)&&n.push(e)})),n}},{key:"getLayerByName",value:function(e,i){return t.getAllLayers(e).filter((function(t){return t.get("name")===i}))[0]}},{key:"getLayerByNameParam",value:function(e,i){var o,r=t.getAllLayers(e),n=!0,s=!1,a=void 0;try{for(var l,h=r[Symbol.iterator]();!(n=(l=h.next()).done);n=!0){var u=l.value;if(u.getSource&&u.getSource().getParams&&u.getSource().getParams().LAYERS===i){o=u;break}}}catch(t){s=!0,a=t}finally{try{n||null==h.return||h.return()}finally{if(s)throw a}}return o}},{key:"getLayerByFeature",value:function(e,i,o){var r,n=p.default.getFeatureTypeName(i),s=!0,a=!1,l=void 0;try{for(var h,u=o[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){var c=h.value,d="".concat(c,":").concat(n),g=t.getLayerByNameParam(e,d);if(g){r=g;break}}}catch(t){a=!0,l=t}finally{try{s||null==u.return||u.return()}finally{if(a)throw l}}return r}},{key:"getLayersByGroup",value:function(e,i){var o=[];return i.getLayers().forEach((function(i){var r;i instanceof s.default?o.push.apply(o,function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(r=t.getLayersByGroup(e,i))||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()):o.push(i)})),o}},{key:"getLayersByProperty",value:function(e,i,o){if(e&&i)return t.getAllLayers(e).filter((function(t){return t.get(i)===o}))}},{key:"getLayerPositionInfo",value:function(e,i){var o=i instanceof s.default?i:i.getLayerGroup(),r=o.getLayers().getArray(),n={};return r.indexOf(e)<0?r.forEach((function(i){i instanceof s.default&&!n.groupLayer&&(n=t.getLayerPositionInfo(e,i))})):(n.position=r.indexOf(e),n.groupLayer=o),n}},{key:"getLegendGraphicUrl",value:function(t,e){if(t){var i=t.getSource();if(t instanceof a.default&&i){var o=i instanceof r.default,s=i instanceof n.default;if(o||s){var l=t.getSource(),h=o?l.getUrls()?l.getUrls()[0]:"":l.getUrl(),p={LAYER:l.getParams().LAYERS,VERSION:"1.3.0",SERVICE:"WMS",REQUEST:"getLegendGraphic",FORMAT:"image/png"},d=u.default.objectToRequestString(Object.assign(p,e));return/\?/.test(h)?"".concat(h,"&").concat(d):"".concat(h,"?").concat(d)}c.default.warn('Source of "'.concat(t.get("name"),'" is currently not supported ')+"by MapUtil.getLegendGraphicUrl.")}else c.default.error("Invalid layer passed to MapUtil.getLegendGraphicUrl.")}else c.default.error("No layer passed to MapUtil.getLegendGraphicUrl.")}},{key:"layerInResolutionRange",value:function(t,e){var i=e&&e.getView(),o=i&&i.getResolution();if(!t||!i||!o)return!1;var r=t.getMinResolution(),n=t.getMaxResolution();return o>=r&&o<n}},{key:"roundScale",value:function(t){var e;return t<100&&(e=Math.round(t,10)),t>=100&&t<1e4&&(e=10*Math.round(t/10)),t>=1e4&&t<1e6&&(e=100*Math.round(t/100)),t>=1e6&&(e=1e3*Math.round(t/1e3)),e}},{key:"getZoomForScale",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";if(Number.isNaN(Number(e)))return 0;if(e<0)return 0;var r=t.getResolutionForScale(e,o),n=i.reduce((function(t,e){return Math.abs(e-r)<Math.abs(t-r)?e:t})),s=(0,d.default)(i,(function(t){return Math.abs(t-n)<=1e-10}));return s}},{key:"zoomToFeatures",value:function(t,e){if(t instanceof o.default){var i=[];if(e.forEach((function(t){null!==t.getGeometry()&&i.push(t.getGeometry())})),i.length>0){var r=new l.default(i);t.getView().fit(r.getExtent())}}}},{key:"isInScaleRange",value:function(t,e){return e>=t.get("minResolution")&&e<t.get("maxResolution")}}],null&&f(e.prototype,null),i&&f(e,i),t}();e.MapUtil=m,v=function(t,e){return m.getAllLayers(t).find((function(t){return e===t.ol_uid.toString()}))},(_="getLayerByOlUid")in(y=m)?Object.defineProperty(y,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[_]=v;var S=m;e.default=S},77260:function(t,e,i){var o,r;!function(n,s){"use strict";void 0===(r="function"==typeof(o=function(){var t=function(){},e="undefined",i=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function r(t,e){var i=t[e];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(e){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function n(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(o){return"debug"===o&&(o="log"),typeof console!==e&&("trace"===o&&i?n:void 0!==console[o]?r(console,o):void 0!==console.log?r(console,"log"):t)}function a(e,i){for(var r=0;r<o.length;r++){var n=o[r];this[n]=r<e?t:this.methodFactory(n,e,i)}this.log=this.debug}function l(t,i,o){return function(){typeof console!==e&&(a.call(this,i,o),this[t].apply(this,arguments))}}function h(t,e,i){return s(t)||l.apply(this,arguments)}function u(t,i,r){var n,s=this,l="loglevel";function u(){var t;if(typeof window!==e&&l){try{t=window.localStorage[l]}catch(t){}if(typeof t===e)try{var i=window.document.cookie,o=i.indexOf(encodeURIComponent(l)+"=");-1!==o&&(t=/^([^;]+)/.exec(i.slice(o))[1])}catch(t){}return void 0===s.levels[t]&&(t=void 0),t}}"string"==typeof t?l+=":"+t:"symbol"==typeof t&&(l=void 0),s.name=t,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=r||h,s.getLevel=function(){return n},s.setLevel=function(i,r){if("string"==typeof i&&void 0!==s.levels[i.toUpperCase()]&&(i=s.levels[i.toUpperCase()]),!("number"==typeof i&&i>=0&&i<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+i;if(n=i,!1!==r&&function(t){var i=(o[t]||"silent").toUpperCase();if(typeof window!==e&&l){try{return void(window.localStorage[l]=i)}catch(t){}try{window.document.cookie=encodeURIComponent(l)+"="+i+";"}catch(t){}}}(i),a.call(s,i,t),typeof console===e&&i<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(t){u()||s.setLevel(t,!1)},s.enableAll=function(t){s.setLevel(s.levels.TRACE,t)},s.disableAll=function(t){s.setLevel(s.levels.SILENT,t)};var c=u();null==c&&(c=null==i?"WARN":i),s.setLevel(c,!1)}var c=new u,p={};c.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=p[t];return e||(e=p[t]=new u(t,c.getLevel(),c.methodFactory)),e};var d=typeof window!==e?window.log:void 0;return c.noConflict=function(){return typeof window!==e&&window.log===c&&(window.log=d),c},c.getLoggers=function(){return p},c.default=c,c})?o.call(e,i,e,t):o)||(t.exports=r)}()},83457:(t,e,i)=>{"use strict";var o=i(47418),r=i(57129),n=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/,l=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function h(t){return(t||"").toString().replace(l,"")}var u=[["#","hash"],["?","query"],function(t,e){return d(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function p(t){var e,o=("undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{}).location||{},r={},s=typeof(t=t||o);if("blob:"===t.protocol)r=new f(unescape(t.pathname),{});else if("string"===s)for(e in r=new f(t,{}),c)delete r[e];else if("object"===s){for(e in t)e in c||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=n.test(t.href))}return r}function d(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function g(t,e){t=h(t),e=e||{};var i,o=s.exec(t),r=o[1]?o[1].toLowerCase():"",n=!!o[2],a=!!o[3],l=0;return n?a?(i=o[2]+o[3]+o[4],l=o[2].length+o[3].length):(i=o[2]+o[4],l=o[2].length):a?(i=o[3]+o[4],l=o[3].length):i=o[4],"file:"===r?l>=2&&(i=i.slice(2)):d(r)?i=o[4]:r?n&&(i=i.slice(2)):l>=2&&d(e.protocol)&&(i=o[4]),{protocol:r,slashes:n||d(r),slashesCount:l,rest:i}}function f(t,e,i){if(t=h(t),!(this instanceof f))return new f(t,e,i);var n,s,l,c,y,_,v=u.slice(),m=typeof e,S=this,T=0;for("object"!==m&&"string"!==m&&(i=e,e=null),i&&"function"!=typeof i&&(i=r.parse),n=!(s=g(t||"",e=p(e))).protocol&&!s.slashes,S.slashes=s.slashes||n&&e.slashes,S.protocol=s.protocol||e.protocol||"",t=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||a.test(t))||!s.slashes&&(s.protocol||s.slashesCount<2||!d(S.protocol)))&&(v[3]=[/(.*)/,"pathname"]);T<v.length;T++)"function"!=typeof(c=v[T])?(l=c[0],_=c[1],l!=l?S[_]=t:"string"==typeof l?~(y=t.indexOf(l))&&("number"==typeof c[2]?(S[_]=t.slice(0,y),t=t.slice(y+c[2])):(S[_]=t.slice(y),t=t.slice(0,y))):(y=l.exec(t))&&(S[_]=y[1],t=t.slice(0,y.index)),S[_]=S[_]||n&&c[3]&&e[_]||"",c[4]&&(S[_]=S[_].toLowerCase())):t=c(t,S);i&&(S.query=i(S.query)),n&&e.slashes&&"/"!==S.pathname.charAt(0)&&(""!==S.pathname||""!==e.pathname)&&(S.pathname=function(t,e){if(""===t)return e;for(var i=(e||"/").split("/").slice(0,-1).concat(t.split("/")),o=i.length,r=i[o-1],n=!1,s=0;o--;)"."===i[o]?i.splice(o,1):".."===i[o]?(i.splice(o,1),s++):s&&(0===o&&(n=!0),i.splice(o,1),s--);return n&&i.unshift(""),"."!==r&&".."!==r||i.push(""),i.join("/")}(S.pathname,e.pathname)),"/"!==S.pathname.charAt(0)&&d(S.protocol)&&(S.pathname="/"+S.pathname),o(S.port,S.protocol)||(S.host=S.hostname,S.port=""),S.username=S.password="",S.auth&&(c=S.auth.split(":"),S.username=c[0]||"",S.password=c[1]||""),S.origin="file:"!==S.protocol&&d(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString()}f.prototype={set:function(t,e,i){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(i||r.parse)(e)),n[t]=e;break;case"port":n[t]=e,o(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!i;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";n[t]=e.charAt(0)!==s?s+e:e}else n[t]=e;break;default:n[t]=e}for(var a=0;a<u.length;a++){var l=u[a];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.origin="file:"!==n.protocol&&d(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=r.stringify);var e,i=this,o=i.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var n=o+(i.slashes||d(i.protocol)?"//":"");return i.username&&(n+=i.username,i.password&&(n+=":"+i.password),n+="@"),n+=i.host+i.pathname,(e="object"==typeof i.query?t(i.query):i.query)&&(n+="?"!==e.charAt(0)?"?"+e:e),i.hash&&(n+=i.hash),n}},f.extractProtocol=g,f.location=p,f.trimLeft=h,f.qs=r,t.exports=f},7935:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,o.default)(t),(e=(0,r.default)(e,s)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var i=t.split("."),n=i[i.length-1];if(e.require_tld){if(i.length<2)return!1;if(!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(n))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20\u00A9\uFFFD]/.test(n))return!1}return!(!e.allow_numeric_tld&&/^\d+$/.test(n))&&i.every((function(t){return!(t.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(t)||/[\uff01-\uff5e]/.test(t)||/^-|-$/.test(t)||!e.allow_underscores&&/_/.test(t))}))};var o=n(i(20049)),r=n(i(80134));function n(t){return t&&t.__esModule?t:{default:t}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1};t.exports=e.default,t.exports.default=e.default},67753:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,r.default)(e),!(i=String(i)))return t(e,4)||t(e,6);if("4"===i){if(!a.test(e))return!1;var o=e.split(".").sort((function(t,e){return t-e}));return o[3]<=255}return"6"===i&&!!h.test(e)};var o,r=(o=i(20049))&&o.__esModule?o:{default:o},n="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(n,"[.]){3}").concat(n),a=new RegExp("^".concat(s,"$")),l="(?:[0-9a-fA-F]{1,4})",h=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(s,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(s,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(s,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(s,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(s,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(s,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(s,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");t.exports=e.default,t.exports.default=e.default},55114:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,o.default)(t),!t||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;if((e=(0,s.default)(e,l)).validate_length&&t.length>=2083)return!1;var i,a,c,p,d,g,f,y;if(f=t.split("#"),t=f.shift(),f=t.split("?"),t=f.shift(),(f=t.split("://")).length>1){if(i=f.shift().toLowerCase(),e.require_valid_protocol&&-1===e.protocols.indexOf(i))return!1}else{if(e.require_protocol)return!1;if("//"===t.substr(0,2)){if(!e.allow_protocol_relative_urls)return!1;f[0]=t.substr(2)}}if(""===(t=f.join("://")))return!1;if(f=t.split("/"),""===(t=f.shift())&&!e.require_host)return!0;if((f=t.split("@")).length>1){if(e.disallow_auth)return!1;if(""===f[0]||":"===f[0].substr(0,1))return!1;if((a=f.shift()).indexOf(":")>=0&&a.split(":").length>2)return!1}g=null,y=null;var _=(p=f.join("@")).match(h);if(_?(c="",y=_[1],g=_[2]||null):(c=(f=p.split(":")).shift(),f.length&&(g=f.join(":"))),null!==g){if(d=parseInt(g,10),!/^[0-9]+$/.test(g)||d<=0||d>65535)return!1}else if(e.require_port)return!1;return!!((0,n.default)(c)||(0,r.default)(c,e)||y&&(0,n.default)(y,6))&&(c=c||y,!(e.host_whitelist&&!u(c,e.host_whitelist))&&(!e.host_blacklist||!u(c,e.host_blacklist)))};var o=a(i(20049)),r=a(i(7935)),n=a(i(67753)),s=a(i(80134));function a(t){return t&&t.__esModule?t:{default:t}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,validate_length:!0},h=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(t,e){for(var i=0;i<e.length;i++){var o=e[i];if(t===o||(r=o,"[object RegExp]"===Object.prototype.toString.call(r)&&o.test(t)))return!0}var r;return!1}t.exports=e.default,t.exports.default=e.default},20049:(t,e)=>{"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!("string"==typeof t||t instanceof String)){var e=i(t);throw null===t?e="null":"object"===e&&(e=t.constructor.name),new TypeError("Expected a string but received a ".concat(e))}},t.exports=e.default,t.exports.default=e.default},80134:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},t.exports=e.default,t.exports.default=e.default},29217:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var o=i(49179),r=i(66575),n=i(73381);const s=function(t){function e(e,i,o,r){t.call(this),this.extent=e,this.pixelRatio_=o,this.resolution=i,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(n.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,o.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,o.O3)()},e}(r.Z)},78471:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>Qe});var o=i(49179),r=i(78426),n=i(19629),s=i(32062),a=i(91358),l=i(30006),h=i(86968),u=i(13002),c=i(66575);const p="pointermove",d="pointerdown";var g=i(14303),f=i(34681),y=["","unavailable","touch","pen","mouse"];function _(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function v(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function m(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function S(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function T(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function E(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function x(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function C(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}const w=function(t){function e(e){var i={MSPointerDown:_,MSPointerMove:v,MSPointerUp:m,MSPointerOut:S,MSPointerOver:T,MSPointerCancel:E,MSGotPointerCapture:C,MSLostPointerCapture:x};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=y[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(f.Z);function R(t){this.dispatcher.fireNativeEvent(t)}function O(t){this.dispatcher.fireNativeEvent(t)}function b(t){this.dispatcher.fireNativeEvent(t)}function I(t){this.dispatcher.fireNativeEvent(t)}function L(t){this.dispatcher.fireNativeEvent(t)}function F(t){this.dispatcher.fireNativeEvent(t)}function P(t){this.dispatcher.fireNativeEvent(t)}function k(t){this.dispatcher.fireNativeEvent(t)}const A=function(t){function e(e){var i={pointerdown:R,pointermove:O,pointerup:b,pointerout:I,pointerover:L,pointercancel:F,gotpointercapture:k,lostpointercapture:P};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f.Z);var Z=i(9520),M=!1,D=function(t){function e(e,i,o){t.call(this,e),this.originalEvent=i;var r=o||{};this.buttons=function(t){var e;if(t.buttons||M)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z.ZP);!function(){try{var t=new MouseEvent("click",{buttons:1});M=1===t.buttons}catch(t){}}();const G=D;var N=i(79682);function j(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function z(t){this.processTouches_(t,this.moveOverOut_)}function U(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function Y(t){this.processTouches_(t,this.cancelOut_)}const W=function(t){function e(e,i){var o={touchstart:j,touchmove:z,touchend:U,touchcancel:Y};t.call(this,e,o),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&g.yA.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),o=i.length;function r(){t.preventDefault()}for(var n=0;n<o;++n){var s=this.touchToPointer_(t,i[n]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,o=0;o<i;o++)if(t[o].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),o=i.length;if(o>=e.length){for(var r=[],n=0;n<o;++n){var s=Number(i[n]),a=this.pointerMap[s];s==g.yA||this.findTouch_(e,s-2)||r.push(a.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,o=this.pointerMap[i.pointerId];if(o){var r=o.out,n=o.outTarget;this.dispatcher.move(i,t),r&&n!==i.target&&(r.relatedTarget=i.target,i.relatedTarget=n,r.target=n,i.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(i,t)):(i.target=n,i.relatedTarget=null,this.cancelOut_(t,i))),o.out=i,o.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var o=[i.clientX,i.clientY];e.push(o),setTimeout((function(){(0,N.Od)(e,o)}),this.dedupTimeout_)}},e}(f.Z);var K=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];const X=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(a.GQ)this.registerSource("native",new A(this));else if(a.NL)this.registerSource("ms",new w(this));else{var t=new g.ZP(this);this.registerSource("mouse",t),a.Qm&&this.registerSource("touch",new W(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,o=i.getEvents();o&&(o.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){(0,u.oL)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){(0,u.Ev)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},o=0,r=K.length;o<r;o++){var n=K[o][0];i[n]=t[n]||e[n]||K[o][1]}return i},e.prototype.down=function(t,e){this.fireEvent(d,t,e)},e.prototype.move=function(t,e){this.fireEvent(p,t,e)},e.prototype.up=function(t,e){this.fireEvent("pointerup",t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent("pointerenter",t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent("pointerleave",t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent("pointerover",t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent("pointerout",t,e)},e.prototype.cancel=function(t,e){this.fireEvent("pointercancel",t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new G(t,i,e)},e.prototype.fireEvent=function(t,e,i){var o=this.makeEvent(t,e,i);this.dispatchEvent(o)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,(0,g.R)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(c.Z),q=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*a.MP:a.MP,this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new X(o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,u.oL)(this.pointerEventHandler_,d,this.handlePointerDown_,this),this.relayedListenerKey_=(0,u.oL)(this.pointerEventHandler_,p,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h.Z(l.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h.Z(l.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h.Z(l.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==l.Z.POINTERUP||e.type==l.Z.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==l.Z.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h.Z(l.Z.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(u.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h.Z(l.Z.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new X(document),this.dragListenerKeys_.push((0,u.oL)(this.documentPointerEventHandler_,l.Z.POINTERMOVE,this.handlePointerMove_,this),(0,u.oL)(this.documentPointerEventHandler_,l.Z.POINTERUP,this.handlePointerUp_,this),(0,u.oL)(this.pointerEventHandler_,l.Z.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h.Z(l.Z.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h.Z(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,u.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,u.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(u.bN),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(c.Z);var B=i(10255),V=i(40188),H=i(39850),Q=i(97208),J=i(58493),$=i(13910),tt=i(59900),et=i(73381),it=i(38906),ot=i(13580),rt=1/0,nt=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};nt.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,ot.ZH)(this.queuedElements_)},nt.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var o=this.keyFunction_(i);return delete this.queuedElements_[o],i},nt.prototype.enqueue=function(t){(0,it.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=rt&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},nt.prototype.getCount=function(){return this.elements_.length},nt.prototype.getLeftChildIndex_=function(t){return 2*t+1},nt.prototype.getRightChildIndex_=function(t){return 2*t+2},nt.prototype.getParentIndex_=function(t){return t-1>>1},nt.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},nt.prototype.isEmpty=function(){return 0===this.elements_.length},nt.prototype.isKeyQueued=function(t){return t in this.queuedElements_},nt.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},nt.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,o=e.length,r=e[t],n=i[t],s=t;t<o>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<o&&i[l]<i[a]?l:a;e[t]=e[h],i[t]=i[h],t=h}e[t]=r,i[t]=n,this.siftDown_(s,t)},nt.prototype.siftDown_=function(t,e){for(var i=this.elements_,o=this.priorities_,r=i[e],n=o[e];e>t;){var s=this.getParentIndex_(e);if(!(o[s]>n))break;i[e]=i[s],o[e]=o[s],e=s}i[e]=r,o[e]=n},nt.prototype.reprioritize=function(){var t,e,i,o=this.priorityFunction_,r=this.elements_,n=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(i=o(t=r[e]))==rt?delete this.queuedElements_[this.keyFunction_(t)]:(n[s]=i,r[s++]=t);r.length=s,n.length=s,this.heapify_()};const st=function(t){function e(e,i){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var o=e[0];(0,u.oL)(o,et.Z.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===tt.Z.LOADED||i===tt.Z.ERROR||i===tt.Z.EMPTY||i===tt.Z.ABORT){(0,u.Ev)(e,et.Z.CHANGE,this.handleTileChange,this);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,o,r,n=0,s=!1;this.tilesLoading_<t&&n<e&&this.getCount()>0;)r=(o=this.dequeue()[0]).getKey(),(i=o.getState())===tt.Z.ABORT?s=!0:i!==tt.Z.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++n,o.load());0===n&&s&&this.tileChangeCallback_()},e}(nt);var at=i(76773),lt=i(6908),ht=i(85386),ut=i(21915),ct=i(64011),pt=i(31742),dt=i(50596),gt=i(82359);const ft=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,o,n,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new pt.default({layers:t.layers});return s[H.Z.LAYERGROUP]=a,s[H.Z.TARGET]=t.target,s[H.Z.VIEW]=void 0!==t.view?t.view:new at.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?i=new r.Z(t.controls.slice()):((0,it.h)("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new r.Z(t.interactions.slice()):((0,it.h)("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?n=new r.Z(t.overlays.slice()):((0,it.h)("function"==typeof t.overlays.getArray,49),n=t.overlays):n=new r.Z,{controls:i,interactions:o,keyboardEventTarget:e,overlays:n,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a.MP,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,gt.Ue)(),this.pixelToCoordinateTransform_=(0,gt.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a.Qm?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[et.Z.CLICK,et.Z.DBLCLICK,et.Z.MOUSEDOWN,et.Z.TOUCHSTART,et.Z.MSPOINTERDOWN,l.Z.POINTERDOWN,et.Z.MOUSEWHEEL,et.Z.WHEEL],s=0,h=o.length;s<h;++s)(0,u.oL)(this.overlayContainerStopEvent_,o[s],Z.UW);for(var c in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new q(this,e.moveTolerance),l.Z)(0,u.oL)(this.mapBrowserEventHandler_,l.Z[c],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,(0,u.oL)(this.viewport_,et.Z.CONTEXTMENU,this.handleBrowserEvent,this),(0,u.oL)(this.viewport_,et.Z.WHEEL,this.handleBrowserEvent,this),(0,u.oL)(this.viewport_,et.Z.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new r.Z,this.interactions=i.interactions||new r.Z,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new st(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,u.oL)(this,(0,J.v_)(H.Z.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,u.oL)(this,(0,J.v_)(H.Z.VIEW),this.handleViewChanged_,this),(0,u.oL)(this,(0,J.v_)(H.Z.SIZE),this.handleSizeChanged_,this),(0,u.oL)(this,(0,J.v_)(H.Z.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),(0,u.oL)(this.controls,n.Z.ADD,(function(t){t.element.setMap(this)}),this),(0,u.oL)(this.controls,n.Z.REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),(0,u.oL)(this.interactions,n.Z.ADD,(function(t){t.element.setMap(this)}),this),(0,u.oL)(this.interactions,n.Z.REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,u.oL)(this.overlays_,n.Z.ADD,(function(t){this.addOverlayInternal_(t.element)}),this),(0,u.oL)(this.overlays_,n.Z.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,u.Ev)(this.viewport_,et.Z.CONTEXTMENU,this.handleBrowserEvent,this),(0,u.Ev)(this.viewport_,et.Z.WHEEL,this.handleBrowserEvent,this),(0,u.Ev)(this.viewport_,et.Z.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(et.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var o=this.getCoordinateFromPixel(t),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,n=void 0!==i.layerFilter?i.layerFilter:ct.uX;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,r,e,null,n,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,(function(t){i||(i=[]),i.push(t)}),e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var o=i||{},r=void 0!==o.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,n=o.layerFilter||ct.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,n,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),o=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:ct.uX,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(H.Z.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?(0,gt.nn)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(H.Z.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?(0,gt.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(H.Z.SIZE)},e.prototype.getView=function(){return this.get(H.Z.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,o){var r=this.frameState_;if(!r||!(e in r.wantedTiles))return rt;if(!r.wantedTiles[e][t.getKey()])return rt;var n=i[0]-r.focus[0],s=i[1]-r.focus[1];return 65536*Math.log(o)+Math.sqrt(n*n+s*s)/o},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new s.Z(i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.getActive()&&!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var r=t.viewHints;r[lt.Z.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,o=2),r[lt.Z.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,o=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}!t||!this.hasListener(Q.Z.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||yt(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(Q.Z.RENDERCOMPLETE,t);for(var n=this.postRenderFunctions_,s=0,a=n.length;s<a;++s)n[s](this,t);n.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)(0,u.bN)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,u.oL)(o,et.Z.KEYDOWN,this.handleBrowserEvent,this),(0,u.oL)(o,et.Z.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(et.Z.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,ht.ZF)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(et.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,u.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,u.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,o.sq)(t)),this.viewPropertyListenerKey_=(0,u.oL)(t,$.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,u.oL)(t,et.Z.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(u.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,u.oL)(t,$.Z.PROPERTYCHANGE,this.render,this),(0,u.oL)(t,et.Z.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),r=this.getView(),n=(0,ut.lJ)(),s=this.frameState_,a=null;if(void 0!==i&&(0,dt.py)(i)&&r&&r.isDef()){for(var l=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),u={},c=0,p=h.length;c<p;++c)u[(0,o.sq)(h[c].layer)]=h[c];e=r.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:n,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:u,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:l,wantedTiles:{}}}a&&(a.extent=(0,ut.p8)(e.center,e.resolution,e.rotation,a.size,n)),this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!(0,ut.xb)(this.previousExtent_)&&!(0,ut.fS)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new B.Z(V.Z.MOVESTART,this,s)),this.previousExtent_=(0,ut.YN)(this.previousExtent_)),this.previousExtent_&&!a.viewHints[lt.Z.ANIMATING]&&!a.viewHints[lt.Z.INTERACTING]&&!(0,ut.fS)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new B.Z(V.Z.MOVEEND,this,a)),(0,ut.d9)(a.extent,this.previousExtent_))),this.dispatchEvent(new B.Z(V.Z.POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(H.Z.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(H.Z.SIZE,t)},e.prototype.setTarget=function(t){this.set(H.Z.TARGET,t)},e.prototype.setView=function(t){this.set(H.Z.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,o.sq)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,o.sq)(t)],this.render()},e}(J.ZP);function yt(t){for(var e=0,i=t.length;e<i;++e){var o=t[e];if("function"==typeof o.getLayers)return yt(o.getLayers().getArray());var r=o.getSource();if(r&&r.loading)return!0}return!1}var _t=i(70878),vt=i(37566),mt=i(35211),St=i(29217),Tt=i(11256);const Et=function(t){function e(e,i,o,r,n){var s=void 0!==n?Tt.Z.IDLE:Tt.Z.LOADED;t.call(this,e,i,o,s),this.loader_=void 0!==n?n:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Tt.Z.ERROR):this.state=Tt.Z.LOADED,this.changed()},e.prototype.load=function(){this.state==Tt.Z.IDLE&&(this.state=Tt.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(St.Z);var xt=i(66901),Ct=i(56510),wt=i(67644),Rt=i(77701);const Ot=function(t){function e(e,i,o,r,n){t.call(this,e),this.vectorContext=i,this.frameState=o,this.context=r,this.glContext=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z.ZP);var bt=i(68509),It=i(45120),Lt=i(28795),Ft=i(32538),Pt=i(17882),kt=function(){};kt.prototype.drawCustom=function(t,e,i){},kt.prototype.drawGeometry=function(t){},kt.prototype.setStyle=function(t){},kt.prototype.drawCircle=function(t,e){},kt.prototype.drawFeature=function(t,e){},kt.prototype.drawGeometryCollection=function(t,e){},kt.prototype.drawLineString=function(t,e){},kt.prototype.drawMultiLineString=function(t,e){},kt.prototype.drawMultiPoint=function(t,e){},kt.prototype.drawMultiPolygon=function(t,e){},kt.prototype.drawPoint=function(t,e){},kt.prototype.drawPolygon=function(t,e){},kt.prototype.drawText=function(t,e){},kt.prototype.setFillStrokeStyle=function(t,e){},kt.prototype.setImageStyle=function(t,e){},kt.prototype.setTextStyle=function(t,e){};const At=kt,Zt=function(t){function e(e,i,o,r,n){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=o,this.transform_=r,this.viewRotation_=n,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,gt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,o){if(this.image_){var r=(0,Pt.vT)(t,e,i,2,this.transform_,this.pixelCoordinates_),n=this.context_,s=this.tmpLocalTransform_,a=n.globalAlpha;1!=this.imageOpacity_&&(n.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var h=0,u=r.length;h<u;h+=2){var c=r[h]-this.imageAnchorX_,p=r[h+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var d=c+this.imageAnchorX_,g=p+this.imageAnchorY_;(0,gt.qC)(s,d,g,this.imageScale_,this.imageScale_,l,-d,-g),n.setTransform.apply(n,s)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||n.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(n.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,Pt.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_),n=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=o){var a=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var h=(0,gt.qC)(this.tmpLocalTransform_,a,l,this.textScale_,this.textScale_,s,-a,-l);n.setTransform.apply(n,h)}this.textStrokeState_&&n.strokeText(this.text_,a,l),this.textFillState_&&n.fillText(this.text_,a,l)}0===s&&1==this.textScale_||n.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,o,r){var n=this.context_,s=(0,Pt.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_);n.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var l=2;l<a;l+=2)n.lineTo(s[l],s[l+1]);return r&&n.closePath(),i},e.prototype.drawRings_=function(t,e,i,o){for(var r=0,n=i.length;r<n;++r)e=this.moveToLineTo_(t,e,i[r],o,!0);return e},e.prototype.drawCircle=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,Ft.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],o=e[3]-e[1],r=Math.sqrt(i*i+o*o),n=this.context_;n.beginPath(),n.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Lt.Z.POINT:this.drawPoint(t);break;case Lt.Z.LINE_STRING:this.drawLineString(t);break;case Lt.Z.POLYGON:this.drawPolygon(t);break;case Lt.Z.MULTI_POINT:this.drawMultiPoint(t);break;case Lt.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Lt.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Lt.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Lt.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,ut.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,o=e.length;i<o;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,ut.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),r=0,n=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,l=n.length;a<l;++a)r=this.moveToLineTo_(o,r,n[a],s,!1);i.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if((0,ut.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),o=0,r=t.getEndss(),n=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var l=r[s];o=this.drawRings_(i,o,l,n)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),a.XQ&&((0,N.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,a.XQ&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:bt.PH;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=o&&(i.textAlign=e.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,It.y)(i||bt.bL)}}else this.fillState_=null;if(e){var o=e.getColor(),r=e.getLineCap(),n=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:bt.mb,lineDash:n||bt.X9,lineDashOffset:s||bt.He,lineJoin:void 0!==a?a:bt.rc,lineWidth:this.pixelRatio_*(void 0!==l?l:bt.yC),miterLimit:void 0!==h?h:bt.V4,strokeStyle:(0,It.y)(o||bt.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),o=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,It.y)(i||bt.bL)}}else this.textFillState_=null;var o=t.getStroke();if(o){var r=o.getColor(),n=o.getLineCap(),s=o.getLineDash(),a=o.getLineDashOffset(),l=o.getLineJoin(),h=o.getWidth(),u=o.getMiterLimit();this.textStrokeState_={lineCap:void 0!==n?n:bt.mb,lineDash:s||bt.X9,lineDashOffset:a||bt.He,lineJoin:void 0!==l?l:bt.rc,lineWidth:void 0!==h?h:bt.yC,miterLimit:void 0!==u?u:bt.V4,strokeStyle:(0,It.y)(r||bt.Tx)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),f=t.getRotation(),y=t.getScale(),_=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:bt.Df,textAlign:void 0!==v?v:bt.PH,textBaseline:void 0!==m?m:bt.ru},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==f?f:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(At);var Mt=i(80967),Dt=i(16250);function Gt(t,e){Dt.c.expire()}function Nt(t,e){return t.zIndex-e.zIndex}const jt=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){(0,o.O3)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;(0,gt.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,gt.U_)((0,gt.lk)(o,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,s,a){var l,h=e.viewState,u=h.resolution;function c(t,i){var s=e.layerStates[(0,o.sq)(i)].managed;if(!((0,o.sq)(t)in e.skippedFeatureUids)||s)return r.call(n,t,s?i:null)}var p=h.projection,d=t;if(p.canWrapX()){var g=p.getExtent(),f=(0,ut.dz)(g),y=t[0];(y<g[0]||y>g[2])&&(d=[y+f*Math.ceil((g[0]-y)/f),t[1]])}var _,v=e.layerStatesArray;for(_=v.length-1;_>=0;--_){var m=v[_],S=m.layer;if((0,Rt.l)(m,u)&&s.call(a,S)){var T=this.getLayerRenderer(S),E=S.getSource();if(E&&(l=T.forEachFeatureAtCoordinate(E.getWrapX()?d:t,e,i,c)),l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,i,r,n,s,a){return(0,o.O3)()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,ct.uX,this,o,r)},e.prototype.getLayerRenderer=function(t){var e=(0,o.sq)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,r=0,n=this.layerRendererConstructors_.length;r<n;++r){var s=this.layerRendererConstructors_[r];if(s.handles(t)){i=s.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=(0,u.oL)(i,et.Z.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],(0,u.bN)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){(0,o.O3)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Gt)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Mt.Z);var zt=i(82418),Ut=[];const Yt=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=(0,ht.E4)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=wt.XV,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,gt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),o=this.context_;if(i.hasListener(t)){var r=e.extent,n=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),l=new Zt(o,n,r,a,s),h=new Ot(t,l,e,o,null);i.dispatchEvent(h)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,o=this.canvas_.height/2,r=t.pixelRatio/e.resolution,n=-r,s=-e.rotation,a=-e.center[0],l=-e.center[1];return(0,gt.qC)(this.transform_,i,o,r,n,s,a,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,o=Math.round(t.size[0]*i),r=Math.round(t.size[1]*i);this.canvas_.width!=o||this.canvas_.height!=r?(this.canvas_.width=o,this.canvas_.height=r):e.clearRect(0,0,o,r);var n=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(Q.Z.PRECOMPOSE,t);var s=t.layerStatesArray;(0,N.XV)(s,Nt),n&&(e.save(),(0,bt.qs)(e,n,o/2,r/2));var a,l,h=t.viewState.resolution;for(a=0,l=s.length;a<l;++a){var u=s[a],c=u.layer,p=this.getLayerRenderer(c);(0,Rt.l)(u,h)&&u.sourceState==zt.Z.READY&&p.prepareFrame(t,u)&&p.composeFrame(t,u,e)}n&&e.restore(),this.dispatchRenderEvent(Q.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,o,r,n,s){var a,l,h=e.viewState.resolution,u=e.layerStatesArray,c=u.length,p=(0,gt.nn)(e.pixelToCoordinateTransform,t.slice());for(l=c-1;l>=0;--l){var d=u[l],g=d.layer;if((0,Rt.l)(d,h)&&n.call(s,g)&&(a=this.getLayerRenderer(g).forEachLayerAtCoordinate(p,e,i,o,r)))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,o=e.length;i<o;++i){var r=e[i];(0,N.q9)(Ut,r)||Ut.push(r)}},e}(jt);var Wt=i(90728);const Kt=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=(0,gt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var o=e.pixelRatio,r=e.size[0]*o,n=e.size[1]*o,s=e.viewState.rotation,a=(0,ut.rL)(i),l=(0,ut.Xv)(i),h=(0,ut.w$)(i),u=(0,ut.hC)(i);(0,gt.nn)(e.coordinateToPixelTransform,a),(0,gt.nn)(e.coordinateToPixelTransform,l),(0,gt.nn)(e.coordinateToPixelTransform,h),(0,gt.nn)(e.coordinateToPixelTransform,u),t.save(),(0,bt.qs)(t,-s,r/2,n/2),t.beginPath(),t.moveTo(a[0]*o,a[1]*o),t.lineTo(l[0]*o,l[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(u[0]*o,u[1]*o),t.clip(),(0,bt.qs)(t,s,r/2,n/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,o){var r=this.getLayer();if(r.hasListener(t)){var n=i.size[0]*i.pixelRatio,s=i.size[1]*i.pixelRatio,a=i.viewState.rotation;(0,bt.qs)(e,-a,n/2,s/2);var l=void 0!==o?o:this.getTransform(i,0),h=new Zt(e,i.pixelRatio,i.extent,l,i.viewState.rotation),u=new Ot(t,h,i,e,null);r.dispatchEvent(u),(0,bt.qs)(e,a,n/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,o,r){return this.forEachFeatureAtCoordinate(t,e,i,ct.uX)?o.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,o){this.dispatchComposeEvent_(Q.Z.POSTCOMPOSE,t,e,o)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(Q.Z.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(Q.Z.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,o=t.pixelRatio,r=o*t.size[0]/2,n=o*t.size[1]/2,s=o/i.resolution,a=-s,l=-i.rotation,h=-i.center[0]+e,u=-i.center[1];return(0,gt.qC)(this.transform_,r,n,s,a,l,h,u)},e.prototype.composeFrame=function(t,e,i){(0,o.O3)()},e.prototype.prepareFrame=function(t,e){return(0,o.O3)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(o,r){return t.forEachLoadedTile(e,o,r,(function(t){i[o]||(i[o]={}),i[o][t.tileCoord.toString()]=t}))}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Tt.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Tt.Z.LOADED&&e!=Tt.Z.ERROR&&(0,u.oL)(t,et.Z.CHANGE,this.handleImageChange_,this),e==Tt.Z.IDLE&&(t.load(),e=t.getState()),e==Tt.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==zt.Z.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var r=(0,o.sq)(t);r in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,r){var n=(0,o.sq)(e),s=i.toString();n in t?s in t[n]?t[n][s].extend(r):t[n][s]=r:(t[n]={},t[n][s]=r)},e.prototype.manageTilePyramid=function(t,e,i,r,n,s,a,l,h,u){var c=(0,o.sq)(e);c in t.wantedTiles||(t.wantedTiles[c]={});var p,d,g,f,y,_,v=t.wantedTiles[c],m=t.tileQueue;for(_=i.getMinZoom();_<=a;++_)for(d=i.getTileRangeForExtentAndZ(s,_,d),g=i.getResolution(_),f=d.minX;f<=d.maxX;++f)for(y=d.minY;y<=d.maxY;++y)a-_<=l?((p=e.getTile(_,f,y,r,n)).getState()==tt.Z.IDLE&&(v[p.getKey()]=!0,m.isKeyQueued(p.getKey())||m.enqueue([p,c,i.getTileCoordCenter(p.tileCoord),g])),void 0!==h&&h.call(u,p)):e.useTile(_,f,y,n)},e}(i(56834).Z)),Xt=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=(0,gt.Ue)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var o=this.getImage();if(o){var r=e.extent,n=void 0!==r&&!(0,ut.r4)(r,t.extent)&&(0,ut.kK)(r,t.extent);n&&this.clip(i,t,r);var s=this.getImageTransform(),a=i.globalAlpha;i.globalAlpha=e.opacity;var l=s[4],h=s[5],u=o.width*s[0],c=o.height*s[3];u>=.5&&c>=.5&&i.drawImage(o,0,0,+o.width,+o.height,Math.round(l),Math.round(h),Math.round(u),Math.round(c)),i.globalAlpha=a,n&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return(0,o.O3)()},e.prototype.getImageTransform=function(){return(0,o.O3)()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,o,r){if(this.getImage()){var n=(0,gt.nn)(this.coordinateToCanvasPixelTransform,t.slice());(0,Wt.bA)(n,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,ht.E4)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),n[0],n[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?o.call(r,this.getLayer(),s):void 0}},e}(Kt);var qt=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=(0,gt.Ue)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===xt.Z.VECTOR)for(var o=0,r=Ut.length;o<r;++o){var n=Ut[o];if(n!==e&&n.handles(i)){this.vectorRenderer_=new n(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,o=t.pixelRatio,r=t.size,n=t.viewState,s=n.center,a=n.resolution,l=this.getLayer().getSource(),h=t.viewHints,u=this.vectorRenderer_,c=t.extent;if(u||void 0===e.extent||(c=(0,ut.Ed)(c,e.extent)),!h[lt.Z.ANIMATING]&&!h[lt.Z.INTERACTING]&&!(0,ut.xb)(c)){var p=n.projection;if(!mt.j){var d=l.getProjection();d&&(p=d)}var g=this.skippedFeatures_;if(u){var f=u.context,y=(0,ot.f0)({},t,{size:[(0,ut.dz)(c)/a,(0,ut.Cr)(c)/a],viewState:(0,ot.f0)({},t.viewState,{rotation:0})}),_=Object.keys(y.skippedFeatureUids).sort();i=new Et(c,a,o,f.canvas,(function(t){!u.prepareFrame(y,e)||!u.replayGroupChanged&&(0,N.fS)(g,_)||(f.canvas.width=y.size[0]*o,f.canvas.height=y.size[1]*o,u.compose(f,y,e),g=_,t())}))}else i=l.getImage(c,a,o,p);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=g)}if(this.image_){var v=(i=this.image_).getExtent(),m=i.getResolution(),S=i.getPixelRatio(),T=o*m/(a*S),E=(0,gt.qC)(this.imageTransform_,o*r[0]/2,o*r[1]/2,T,T,0,S*(v[0]-s[0])/m,S*(s[1]-v[3])/m);(0,gt.qC)(this.coordinateToCanvasPixelTransform,o*r[0]/2-E[4],o*r[1]/2-E[5],o/a,-o/a,0,-s[0],-s[1]),this.renderedResolution=m*o/S}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,o,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,o,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,o,r)},e}(Xt);qt.handles=function(t){return t.getType()===xt.Z.IMAGE||t.getType()===xt.Z.VECTOR&&t.getRenderMode()===Ct.Z.IMAGE},qt.create=function(t,e){return new qt(e)};const Bt=qt;var Vt=i(19473),Ht=function(t){function e(e,i){t.call(this,e),this.context=i?null:(0,ht.E4)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,ut.lJ)(),this.tmpTileRange_=new Vt.Z(0,0,0,0),this.imageTransform_=(0,gt.Ue)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==tt.Z.LOADED||i==tt.Z.EMPTY||i==tt.Z.ERROR&&!o},e.prototype.getTile=function(t,e,i,o,r){var n=this.getLayer(),s=n.getSource().getTile(t,e,i,o,r);return s.getState()==tt.Z.ERROR&&(n.getUseInterimTilesOnError()?n.getPreload()>0&&(this.newTiles_=!0):s.setState(tt.Z.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,r=t.size,n=t.viewState,s=n.projection,a=n.resolution,l=n.center,h=this.getLayer(),u=h.getSource(),c=u.getRevision(),p=u.getTileGridForProjection(s),d=p.getZForResolution(a,this.zDirection),g=p.getResolution(d),f=Math.round(a/g)||1,y=t.extent;if(void 0!==e.extent&&(y=(0,ut.Ed)(y,e.extent)),(0,ut.xb)(y))return!1;var _=p.getTileRangeForExtentAndZ(y,d),v=p.getTileRangeExtent(d,_),m=u.getTilePixelRatio(i),S={};S[d]={};var T,E,x,C=this.createLoadedTileFinder(u,s,S),w=t.viewHints,R=w[lt.Z.ANIMATING]||w[lt.Z.INTERACTING],O=this.tmpExtent,b=this.tmpTileRange_;for(this.newTiles_=!1,E=_.minX;E<=_.maxX;++E)for(x=_.minY;x<=_.maxY;++x)if(!(Date.now()-t.time>16&&R)){if(T=this.getTile(d,E,x,i,s),this.isDrawableTile_(T)){var I=(0,o.sq)(this);if(T.getState()==tt.Z.LOADED){S[d][T.tileCoord.toString()]=T;var L=T.inTransition(I);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(T)||(this.newTiles_=!0)}if(1===T.getAlpha(I,t.time))continue}var F=p.getTileCoordChildTileRange(T.tileCoord,b,O),P=!1;F&&(P=C(d+1,F)),P||p.forEachTileCoordParentTileRange(T.tileCoord,C,null,b,O)}var k=g*i/m*f;if(!(this.renderedResolution&&Date.now()-t.time>16&&R)&&(this.newTiles_||!this.renderedExtent_||!(0,ut.r4)(this.renderedExtent_,y)||this.renderedRevision!=c||f!=this.oversampling_||!R&&k!=this.renderedResolution)){var A=this.context;if(A){var Z=u.getTilePixelSize(d,i,s),M=Math.round(_.getWidth()*Z[0]/f),D=Math.round(_.getHeight()*Z[1]/f),G=A.canvas;G.width!=M||G.height!=D?(this.oversampling_=f,G.width=M,G.height=D):(this.renderedExtent_&&!(0,ut.fS)(v,this.renderedExtent_)&&A.clearRect(0,0,M,D),f=this.oversampling_)}this.renderedTiles.length=0;var N,j,z,U,Y,W,K,X,q,B,V=Object.keys(S).map(Number);for(V.sort((function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0})),U=0,Y=V.length;U<Y;++U)for(var H in z=V[U],j=u.getTilePixelSize(z,i,s),N=p.getResolution(z)/g,K=m*u.getGutterForProjection(s),X=S[z])T=X[H],E=((W=p.getTileCoordExtent(T.getTileCoord(),O))[0]-v[0])/g*m/f,x=(v[3]-W[3])/g*m/f,q=j[0]*N/f,B=j[1]*N/f,this.drawTileImage(T,t,e,E,x,q,B,K,d===z),this.renderedTiles.push(T);this.renderedRevision=c,this.renderedResolution=g*i/m*f,this.renderedExtent_=v}var Q=this.renderedResolution/a,J=(0,gt.qC)(this.imageTransform_,i*r[0]/2,i*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*i,(l[1]-this.renderedExtent_[3])/this.renderedResolution*i);return(0,gt.qC)(this.coordinateToCanvasPixelTransform,i*r[0]/2-J[4],i*r[1]/2-J[5],i/a,-i/a,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,u,d,_),this.manageTilePyramid(t,u,p,i,s,y,d,h.getPreload()),this.scheduleExpireCache(t,u),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,r,n,s,a,l,h){var u=this.getTileImage(t);if(u){var c=(0,o.sq)(this),p=h?t.getAlpha(c,e.time):1,d=this.getLayer().getSource();1!==p||d.getOpaque(e.viewState.projection)||this.context.clearRect(r,n,s,a);var g=p!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,l,l,u.width-2*l,u.height-2*l,r,n,s,a),g&&this.context.restore(),1!==p?e.animate=!0:h&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Xt);Ht.handles=function(t){return t.getType()===xt.Z.TILE},Ht.create=function(t,e){return new Ht(e)},Ht.prototype.getLayer;const Qt=Ht;var Jt=i(49545),$t=i.n(Jt),te=function(){};te.prototype.getReplay=function(t,e){return(0,o.O3)()},te.prototype.isEmpty=function(){return(0,o.O3)()},te.prototype.addDeclutter=function(t){return(0,o.O3)()};const ee=te,ie="Circle",oe="Default",re="Image",ne="LineString",se="Polygon",ae="Text";var le=i(34178),he=i(86204),ue=i(4027),ce=i(21882);function pe(t,e,i,o,r,n,s,a){for(var l,h,u,c=[],p=t[e]>t[i-o],d=r.length,g=t[e],f=t[e+1],y=t[e+=o],_=t[e+1],v=0,m=Math.sqrt(Math.pow(y-g,2)+Math.pow(_-f,2)),S="",T=0,E=0;E<d;++E){h=p?d-E-1:E;var x=r.charAt(h),C=n(S=p?x+S:S+x)-T;T+=C;for(var w=s+C/2;e<i-o&&v+m<w;)g=y,f=_,y=t[e+=o],_=t[e+1],v+=m,m=Math.sqrt(Math.pow(y-g,2)+Math.pow(_-f,2));var R=w-v,O=Math.atan2(_-f,y-g);if(p&&(O+=O>0?-Math.PI:Math.PI),void 0!==u){var b=O-u;if(b+=b>Math.PI?-2*Math.PI:b<-Math.PI?2*Math.PI:0,Math.abs(b)>a)return null}var I=R/m,L=(0,ce.t7)(g,y,I),F=(0,ce.t7)(f,_,I);u==O?(p&&(l[0]=L,l[1]=F,l[2]=C/2),l[4]=S):(T=C,l=[L,F,C/2,O,S=x],p?c.unshift(l):c.push(l),u=O),s+=C}return c}var de={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},ge=[de.FILL],fe=[de.STROKE],ye=[de.BEGIN_PATH],_e=[de.CLOSE_PATH];const ve=de;var me=[se,ie,ne,re,ae,oe],Se={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Te=(0,ut.lJ)(),Ee=(0,gt.Ue)();const xe=function(t){function e(e,i,o,r,n,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=i,this.overlaps=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=o,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,gt.Ue)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,o,r,n,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,r),t.lineTo.apply(t,e),n&&(this.alignFill_=n[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,i,o,r,n,s,a,l,h,u,c,p,d,g,f,y,_){var v=y||_;e-=r*=p,i-=n*=p;var m,S,T,E,x=g+h>o.width?o.width-h:g,C=a+u>o.height?o.height-u:a,w=f[3]+x*p+f[1],R=f[0]+C*p+f[2],O=e-f[3],b=i-f[0];(v||0!==c)&&(m=[O,b],S=[O+w,b],T=[O+w,b+R],E=[O,b+R]);var I=null;if(0!==c){var L=e+r,F=i+n;I=(0,gt.qC)(Ee,L,F,1,1,c,-L,-F),(0,ut.YN)(Te),(0,ut.Wj)(Te,(0,gt.nn)(Ee,m)),(0,ut.Wj)(Te,(0,gt.nn)(Ee,S)),(0,ut.Wj)(Te,(0,gt.nn)(Ee,T)),(0,ut.Wj)(Te,(0,gt.nn)(Ee,E))}else(0,ut.T9)(O,b,O+w,b+R,Te);var P=t.canvas,k=_?_[2]*p/2:0,A=Te[0]-k<=P.width&&Te[2]+k>=0&&Te[1]-k<=P.height&&Te[3]+k>=0;if(d&&(e=Math.round(e),i=Math.round(i)),s){if(!A&&1==s[4])return;(0,ut.l7)(s,Te);var Z=A?[t,I?I.slice(0):null,l,o,h,u,x,C,e,i,p]:null;Z&&v&&Z.push(y,_,m,S,T,E),s.push(Z)}else A&&(v&&this.replayTextBackground_(t,m,S,T,E,y,_),(0,bt.AE)(t,I,l,o,h,u,x,C,e,i,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,i,o,r,n){var s=this.coordinates.length,a=this.getBufferedMaxExtent();n&&(e+=o);var l,h,u,c=[t[e],t[e+1]],p=[NaN,NaN],d=!0;for(l=e+o;l<i;l+=o)p[0]=t[l],p[1]=t[l+1],(u=(0,ut.pX)(a,p))!==h?(d&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],d=!1):u===le.Z.INTERSECTING?(this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],d=!1):d=!0,c[0]=p[0],c[1]=p[1],h=u;return(r&&d||l===e+o)&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,i,o,r){for(var n=0,s=i.length;n<s;++n){var a=i[n],l=this.appendFlatCoordinates(t,e,a,o,!1,!1);r.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var o,r,n,s,a,l=t.getType(),h=t.getStride(),u=this.coordinates.length;if(l==Lt.Z.MULTI_POLYGON){o=(t=t).getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var p=0,d=c.length;p<d;++p){var g=[];a=this.drawCustomCoordinates_(o,a,c[p],h,g),s.push(g)}this.instructions.push([ve.CUSTOM,u,s,t,i,he.ug])}else l==Lt.Z.POLYGON||l==Lt.Z.MULTI_LINE_STRING?(n=[],o=l==Lt.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(o,0,t.getEnds(),h,n),this.instructions.push([ve.CUSTOM,u,n,t,i,he.o1])):l==Lt.Z.LINE_STRING||l==Lt.Z.MULTI_POINT?(o=t.getFlatCoordinates(),r=this.appendFlatCoordinates(o,0,o.length,h,!1,!1),this.instructions.push([ve.CUSTOM,u,r,t,i,he.Ml])):l==Lt.Z.POINT&&(o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),r=this.coordinates.length,this.instructions.push([ve.CUSTOM,u,r,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[ve.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ve.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,gt.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,bt.Oz)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],a.XQ&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var o={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(o)){this.declutterTree.insert(o);for(var r=5,n=t.length;r<n;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),bt.AE.apply(void 0,s))}}t.length=5,(0,ut.YN)(t)}}},e.prototype.replay_=function(t,e,i,r,n,s,a){var l;this.pixelCoordinates_&&(0,N.fS)(e,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=(0,Pt.vT)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,gt.lk)(this.renderedTransform_,e));for(var h,u,c,p,d,g,f,y,_,v,m,S,T=!(0,ot.xb)(i),E=0,x=r.length,C=0,w=0,R=0,O=null,b=null,I=this.coordinateCache_,L=this.viewRotation_,F={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},P=this.instructions!=r||this.overlaps?0:200;E<x;){var k=r[E];switch(k[0]){case ve.BEGIN_GEOMETRY:v=k[1],T&&i[(0,o.sq)(v)]||!v.getGeometry()?E=k[2]:void 0===a||(0,ut.kK)(a,v.getGeometry().getExtent())?++E:E=k[2]+1;break;case ve.BEGIN_PATH:w>P&&(this.fill_(t),w=0),R>P&&(t.stroke(),R=0),w||R||(t.beginPath(),p=d=NaN),++E;break;case ve.CIRCLE:var A=l[C=k[1]],Z=l[C+1],M=l[C+2]-A,D=l[C+3]-Z,G=Math.sqrt(M*M+D*D);t.moveTo(A+G,Z),t.arc(A,Z,G,0,2*Math.PI,!0),++E;break;case ve.CLOSE_PATH:t.closePath(),++E;break;case ve.CUSTOM:C=k[1],h=k[2];var j=k[3],z=k[4],U=6==k.length?k[5]:void 0;F.geometry=j,F.feature=v,E in I||(I[E]=[]);var Y=I[E];U?U(l,C,h,2,Y):(Y[0]=l[C],Y[1]=l[C+1],Y.length=2),z(Y,F),++E;break;case ve.DRAW_IMAGE:C=k[1],h=k[2],_=k[3],u=k[4],c=k[5],y=s?null:k[6];var W=k[7],K=k[8],X=k[9],q=k[10],B=k[11],V=k[12],H=k[13],Q=k[14],J=void 0,$=void 0,tt=void 0;for(k.length>16?(J=k[15],$=k[16],tt=k[17]):(J=bt.oB,$=tt=!1),B&&(V+=L);C<h;C+=2)this.replayImage_(t,l[C],l[C+1],_,u,c,y,W,K,X,q,V,H,n,Q,J,$?O:null,tt?b:null);this.renderDeclutter_(y,v),++E;break;case ve.DRAW_CHARS:var et=k[1],it=k[2],rt=k[3];y=s?null:k[4];var nt=k[5],st=k[6],at=k[7],lt=k[8],ht=k[9],ct=k[10],pt=k[11],dt=k[12],ft=k[13],yt=k[14],_t=(0,ue.W)(l,et,it,2),vt=lt(dt);if(nt||vt<=_t){var mt=this,St=mt.textStates[ft].textAlign,Tt=pe(l,et,it,2,dt,lt,(_t-vt)*Se[St],at);if(Tt){var Et=void 0,xt=void 0,Ct=void 0,wt=void 0,Rt=void 0;if(ct)for(Et=0,xt=Tt.length;Et<xt;++Et)Ct=(Rt=Tt[Et])[4],wt=mt.getImage(Ct,ft,"",ct),u=Rt[2]+pt,c=rt*wt.height+2*(.5-rt)*pt-ht,this.replayImage_(t,Rt[0],Rt[1],wt,u,c,y,wt.height,1,0,0,Rt[3],yt,!1,wt.width,bt.oB,null,null);if(st)for(Et=0,xt=Tt.length;Et<xt;++Et)Ct=(Rt=Tt[Et])[4],wt=mt.getImage(Ct,ft,st,""),u=Rt[2],c=rt*wt.height-ht,this.replayImage_(t,Rt[0],Rt[1],wt,u,c,y,wt.height,1,0,0,Rt[3],yt,!1,wt.width,bt.oB,null,null)}}this.renderDeclutter_(y,v),++E;break;case ve.END_GEOMETRY:if(void 0!==s){var Ot=s(v=k[1]);if(Ot)return Ot}++E;break;case ve.FILL:P?w++:this.fill_(t),++E;break;case ve.MOVE_TO_LINE_TO:for(C=k[1],h=k[2],m=l[C],f=(S=l[C+1])+.5|0,(g=m+.5|0)===p&&f===d||(t.moveTo(m,S),p=g,d=f),C+=2;C<h;C+=2)g=(m=l[C])+.5|0,f=(S=l[C+1])+.5|0,C!=h-2&&g===p&&f===d||(t.lineTo(m,S),p=g,d=f);++E;break;case ve.SET_FILL_STYLE:O=k,this.alignFill_=k[2],w&&(this.fill_(t),w=0,R&&(t.stroke(),R=0)),t.fillStyle=k[1],++E;break;case ve.SET_STROKE_STYLE:b=k,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,k),++E;break;case ve.STROKE:P?R++:t.stroke(),++E;break;default:++E}}w&&this.fill_(t),R&&t.stroke()},e.prototype.replay=function(t,e,i,o,r){this.viewRotation_=i,this.replay_(t,e,o,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,o,r,n){return this.viewRotation_=i,this.replay_(t,e,o,this.hitDetectionInstructions,!0,r,n)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,o,r=e.length,n=-1;for(t=0;t<r;++t)(o=(i=e[t])[0])==ve.END_GEOMETRY?n=t:o==ve.BEGIN_GEOMETRY&&(i[2]=t,(0,N.FZ)(this.hitDetectionInstructions,n,t),n=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var o=t.getColor();i.fillStyle=(0,It.y)(o||bt.bL)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=(0,It.y)(r||bt.Tx);var n=e.getLineCap();i.lineCap=void 0!==n?n:bt.mb;var s=e.getLineDash();i.lineDash=s?s.slice():bt.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||bt.He;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:bt.rc;var h=e.getWidth();i.lineWidth=void 0!==h?h:bt.yC;var u=e.getMiterLimit();i.miterLimit=void 0!==u?u:bt.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,o=[ve.SET_FILL_STYLE,i];return"string"!=typeof i&&o.push(!0),o},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[ve.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var o=t.fillStyle;"string"==typeof o&&t.currentFillStyle==o||(void 0!==o&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=o)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,o=t.lineCap,r=t.lineDash,n=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||r!=t.currentLineDash&&!(0,N.fS)(t.currentLineDash,r)||t.currentLineDashOffset!=n||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=r,t.currentLineDashOffset=n,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[ve.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,ut.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,ut.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(At),Ce=function(t){function e(e,i,o,r,n,s){t.call(this,e,i,o,r,n,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,o){return this.appendFlatCoordinates(t,e,i,o,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),r=this.coordinates.length,n=this.drawCoordinates_(i,0,i.length,o);this.instructions.push([ve.DRAW_IMAGE,r,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ve.DRAW_IMAGE,r,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),r=this.coordinates.length,n=this.drawCoordinates_(i,0,i.length,o);this.instructions.push([ve.DRAW_IMAGE,r,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ve.DRAW_IMAGE,r,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),o=t.getSize(),r=t.getHitDetectionImage(1),n=t.getImage(1),s=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=n,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=o[0]},e}(xe),we=function(t){function e(e,i,o,r,n,s){t.call(this,e,i,o,r,n,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,o){var r=this.coordinates.length,n=this.appendFlatCoordinates(t,e,i,o,!1,!1),s=[ve.MOVE_TO_LINE_TO,r,n];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,r=i.lineWidth;if(void 0!==o&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],ye);var n=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(n,0,n.length,s),this.hitDetectionInstructions.push(fe),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,r=i.lineWidth;if(void 0!==o&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],ye);for(var n=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,h=0,u=n.length;h<u;++h)l=this.drawFlatCoordinates_(s,l,n[h],a);this.hitDetectionInstructions.push(fe),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(fe),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(fe),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(ye)},e}(xe);var Re=i(8913),Oe=i(62418);const be=function(t){function e(e,i,o,r,n,s){t.call(this,e,i,o,r,n,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,o){var r=this.state,n=void 0!==r.fillStyle,s=null!=r.strokeStyle,a=i.length;this.instructions.push(ye),this.hitDetectionInstructions.push(ye);for(var l=0;l<a;++l){var h=i[l],u=this.coordinates.length,c=this.appendFlatCoordinates(t,e,h,o,!0,!s),p=[ve.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(_e),this.hitDetectionInstructions.push(_e)),e=h}return n&&(this.instructions.push(ge),this.hitDetectionInstructions.push(ge)),s&&(this.instructions.push(fe),this.hitDetectionInstructions.push(fe)),e},e.prototype.drawCircle=function(t,e){var i=this.state,o=i.fillStyle,r=i.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ve.SET_FILL_STYLE,(0,Re.XC)(bt.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var n=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(n,0,n.length,s,!1,!1);var l=[ve.CIRCLE,a];this.instructions.push(ye,l),this.hitDetectionInstructions.push(ye,l),this.hitDetectionInstructions.push(ge),void 0!==i.fillStyle&&this.instructions.push(ge),void 0!==i.strokeStyle&&(this.instructions.push(fe),this.hitDetectionInstructions.push(fe)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,o=i.fillStyle,r=i.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ve.SET_FILL_STYLE,(0,Re.XC)(bt.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var n=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,n,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,o=i.fillStyle,r=i.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ve.SET_FILL_STYLE,(0,Re.XC)(bt.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ve.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var n=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,h=0,u=n.length;h<u;++h)l=this.drawFlatCoordinatess_(s,l,n[h],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,o=e.length;i<o;++i)e[i]=(0,Oe.uZ)(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(xe);function Ie(t,e,i,o,r){var n,s,a,l,h,u,c,p,d,g=i,f=i,y=0,_=0,v=i;for(n=i;n<o;n+=r){var m=e[n],S=e[n+1];void 0!==l&&(p=m-l,d=S-h,a=Math.sqrt(p*p+d*d),void 0!==u&&(_+=s,Math.acos((u*p+c*d)/(s*a))>t&&(_>y&&(y=_,g=v,f=n),_=0,v=n-r)),s=a,u=p,c=d),l=m,h=S}return(_+=a)>y?[v,n]:[g,f]}var Le=i(78288),Fe={Circle:be,Default:xe,Image:Ce,LineString:we,Polygon:be,Text:function(t){function e(e,i,o,r,n,s){t.call(this,e,i,o,r,n,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},bt.GK.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,o=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||o)){var n,s,a=this.coordinates.length,l=t.getType(),h=null,u=2,c=2;if(r.placement===Le.Z.LINE){if(!(0,ut.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(h=t.getFlatCoordinates(),c=t.getStride(),l==Lt.Z.LINE_STRING)p=[h.length];else if(l==Lt.Z.MULTI_LINE_STRING)p=t.getEnds();else if(l==Lt.Z.POLYGON)p=t.getEnds().slice(0,1);else if(l==Lt.Z.MULTI_POLYGON){var d=t.getEndss();for(p=[],n=0,s=d.length;n<s;++n)p.push(d[n][0])}this.beginGeometry(t,e);for(var g,f=r.textAlign,y=0,_=0,v=p.length;_<v;++_){if(null==f){var m=Ie(r.maxAngle,h,y,p[_],c);y=m[0],g=m[1]}else g=p[_];for(n=y;n<g;n+=c)this.coordinates.push(h[n],h[n+1]);u=this.coordinates.length,y=p[_],this.drawChars_(a,u,this.declutterGroup_),a=u}this.endGeometry(t,e)}else{var S=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),T=S.width/this.pixelRatio;switch(l){case Lt.Z.POINT:case Lt.Z.MULTI_POINT:u=(h=t.getFlatCoordinates()).length;break;case Lt.Z.LINE_STRING:h=t.getFlatMidpoint();break;case Lt.Z.CIRCLE:h=t.getCenter();break;case Lt.Z.MULTI_LINE_STRING:u=(h=t.getFlatMidpoints()).length;break;case Lt.Z.POLYGON:if(h=t.getFlatInteriorPoint(),!r.overflow&&h[2]/this.resolution<T)return;c=3;break;case Lt.Z.MULTI_POLYGON:var E=t.getFlatInteriorPoints();for(h=[],n=0,s=E.length;n<s;n+=3)(r.overflow||E[n+2]/this.resolution>=T)&&h.push(E[n],E[n+1]);if(0==(u=h.length))return}u=this.appendFlatCoordinates(h,0,u,c,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(S,a,u),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,o){var r,n=o+e+t+i+this.pixelRatio;if(!bt.GK.containsKey(n)){var s=o?this.strokeStates[o]||this.textStrokeState_:null,l=i?this.fillStates[i]||this.textFillState_:null,h=this.textStates[e]||this.textState_,u=this.pixelRatio,c=h.scale*u,p=Se[h.textAlign||bt.PH],d=o&&s.lineWidth?s.lineWidth:0,g=t.split("\n"),f=g.length,y=[],_=function(t,e,i){for(var o=e.length,r=0,n=0;n<o;++n){var s=(0,bt.Ux)(t,e[n]);r=Math.max(r,s),i.push(s)}return r}(h.font,g,y),v=(0,bt.fk)(h.font),m=v*f,S=_+d,T=(0,ht.E4)(Math.ceil(S*c),Math.ceil((m+d)*c));r=T.canvas,bt.GK.set(n,r),1!=c&&T.scale(c,c),T.font=h.font,o&&(T.strokeStyle=s.strokeStyle,T.lineWidth=d,T.lineCap=s.lineCap,T.lineJoin=s.lineJoin,T.miterLimit=s.miterLimit,a.XQ&&s.lineDash.length&&(T.setLineDash(s.lineDash),T.lineDashOffset=s.lineDashOffset)),i&&(T.fillStyle=l.fillStyle),T.textBaseline="middle",T.textAlign="center";var E,x=.5-p,C=p*r.width/c+x*d;if(o)for(E=0;E<f;++E)T.strokeText(g[E],C+x*y[E],.5*(d+v)+E*v);if(i)for(E=0;E<f;++E)T.fillText(g[E],C+x*y[E],.5*(d+v)+E*v)}return bt.GK.get(n)},e.prototype.drawTextImage_=function(t,e,i){var o=this.textState_,r=this.textStrokeState_,n=this.pixelRatio,s=Se[o.textAlign||bt.PH],a=Se[o.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,h=s*t.width/n+2*(.5-s)*l,u=a*t.height/n+2*(.5-a)*l;this.instructions.push([ve.DRAW_IMAGE,e,i,t,(h-this.textOffsetX_)*n,(u-this.textOffsetY_)*n,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,o.padding==bt.oB?bt.oB:o.padding.map((function(t){return t*n})),!!o.backgroundFill,!!o.backgroundStroke]),this.hitDetectionInstructions.push([ve.DRAW_IMAGE,e,i,t,(h-this.textOffsetX_)*n,(u-this.textOffsetY_)*n,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/n,t.width,o.padding,!!o.backgroundFill,!!o.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var o=this.textStrokeState_,r=this.textState_,n=this.textFillState_,s=this.strokeKey_;o&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:o.strokeStyle,lineCap:o.lineCap,lineDashOffset:o.lineDashOffset,lineWidth:o.lineWidth,lineJoin:o.lineJoin,miterLimit:o.miterLimit,lineDash:o.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||bt.PH,scale:r.scale});var l=this.fillKey_;n&&(l in this.fillStates||(this.fillStates[l]={fillStyle:n.fillStyle}));var h=this.pixelRatio,u=Se[r.textBaseline],c=this.textOffsetY_*h,p=this.text_,d=r.font,g=r.scale,f=o?o.lineWidth*g/2:0,y=this.widths_[d];y||(this.widths_[d]=y={}),this.instructions.push([ve.DRAW_CHARS,t,e,u,i,r.overflow,l,r.maxAngle,function(t){var e=y[t];return e||(e=y[t]=(0,bt.Ux)(d,t)),e*g*h},c,s,f*h,p,a,1]),this.hitDetectionInstructions.push([ve.DRAW_CHARS,t,e,u,i,r.overflow,l,r.maxAngle,function(t){var e=y[t];return e||(e=y[t]=(0,bt.Ux)(d,t)),e*g},c,s,f,p,a,1/h])},e.prototype.setTextStyle=function(t,e){var i,r,n;if(t){this.declutterGroup_=e;var s=t.getFill();s?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=(0,It.y)(s.getColor()||bt.bL)):r=this.textFillState_=null;var a=t.getStroke();if(a){(n=this.textStrokeState_)||(n=this.textStrokeState_={});var l=a.getLineDash(),h=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();n.lineCap=a.getLineCap()||bt.mb,n.lineDash=l?l.slice():bt.X9,n.lineDashOffset=void 0===h?bt.He:h,n.lineJoin=a.getLineJoin()||bt.rc,n.lineWidth=void 0===u?bt.yC:u,n.miterLimit=void 0===c?bt.V4:c,n.strokeStyle=(0,It.y)(a.getColor()||bt.Tx)}else n=this.textStrokeState_=null;i=this.textState_;var p=t.getFont()||bt.Df;(0,bt.Uh)(p);var d=t.getScale();i.overflow=t.getOverflow(),i.font=p,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||bt.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||bt.oB,i.scale=void 0===d?1:d;var g=t.getOffsetX(),f=t.getOffsetY(),y=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===_?0:_,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,o.sq)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,o.sq)(r.fillStyle):""}else this.text_=""},e}(xe)},Pe=function(t){function e(e,i,o,r,n,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=n,this.pixelRatio_=r,this.resolution_=o,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=(0,ht.E4)(1,1),this.hitDetectionTransform_=(0,gt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=(0,ut.lJ)()).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],o=0,r=t.length;o<r;++o)if(t[o]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,r,n,s){var a,l=2*(o=Math.round(o))+1,h=(0,gt.qC)(this.hitDetectionTransform_,o+.5,o+.5,1/e,-1/e,-i,-t[0],-t[1]),u=this.hitDetectionContext_;u.canvas.width!==l||u.canvas.height!==l?(u.canvas.width=l,u.canvas.height=l):u.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(a=(0,ut.lJ)(),(0,ut.Wj)(a,t),(0,ut.f3)(a,e*(this.renderBuffer_+o),a));var c,p,d=function(t){if(void 0!==ke[t])return ke[t];for(var e=2*t+1,i=new Array(e),o=0;o<e;o++)i[o]=new Array(e);for(var r=t,n=0,s=0;r>=n;)Ae(i,t+r,t+n),Ae(i,t+n,t+r),Ae(i,t-n,t+r),Ae(i,t-r,t+n),Ae(i,t-r,t-n),Ae(i,t-n,t-r),Ae(i,t+n,t-r),Ae(i,t+r,t-n),2*((s+=1+2*++n)-r)+1>0&&(s+=1-2*(r-=1));return ke[t]=i,i}(o);function g(t){for(var e=u.getImageData(0,0,l,l).data,i=0;i<l;i++)for(var o=0;o<l;o++)if(d[i][o]&&e[4*(o*l+i)+3]>0){var r=void 0;return(!c||p!=re&&p!=ae||-1!==c.indexOf(t))&&(r=n(t)),r||void u.clearRect(0,0,l,l)}}this.declutterTree_&&(c=this.declutterTree_.all().map((function(t){return t.value})));var f,y,_,v,m,S=Object.keys(this.replaysByZIndex_).map(Number);for(S.sort(N.kK),f=S.length-1;f>=0;--f){var T=S[f].toString();for(_=this.replaysByZIndex_[T],y=me.length-1;y>=0;--y)if(void 0!==(v=_[p=me[y]]))if(!s||p!=re&&p!=ae){if(m=v.replayHitDetection(u,h,i,r,g,a))return m}else{var E=s[T];E?E.push(v,h.slice(0)):s[T]=[v,h.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],o=e[1],r=e[2],n=e[3],s=[i,o,i,n,r,n,r,o];return(0,Pt.vT)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",o=this.replaysByZIndex_[i];void 0===o&&(o={},this.replaysByZIndex_[i]=o);var r=o[e];return void 0===r&&(r=new(0,Fe[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),o[e]=r),r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return(0,ot.xb)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,o,r,n,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(N.kK),t.save(),this.clip(t,e);var l,h,u,c,p,d,g=n||me;for(l=0,h=a.length;l<h;++l){var f=a[l].toString();for(p=this.replaysByZIndex_[f],u=0,c=g.length;u<c;++u){var y=g[u];if(void 0!==(d=p[y]))if(!s||y!=re&&y!=ae)d.replay(t,e,i,o,r);else{var _=s[f];_?_.push(d,e.slice(0)):s[f]=[d,e.slice(0)]}}}t.restore()},e}(ee),ke={0:[[!0]]};function Ae(t,e,i){var o,r=Math.floor(t.length/2);if(e>=r)for(o=r;o<e;o++)t[o][i]=!0;else if(e<r)for(o=e+1;o<r;o++)t[o][i]=!0}const Ze=Pe;var Me={Point:function(t,e,i,o){var r=i.getImage();if(r){if(r.getImageState()!=Tt.Z.LOADED)return;var n=t.getReplay(i.getZIndex(),re);n.setImageStyle(r,t.addDeclutter(!1)),n.drawPoint(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,o)}},LineString:function(t,e,i,o){var r=i.getStroke();if(r){var n=t.getReplay(i.getZIndex(),ne);n.setFillStrokeStyle(null,r),n.drawLineString(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,o)}},Polygon:function(t,e,i,o){var r=i.getFill(),n=i.getStroke();if(r||n){var s=t.getReplay(i.getZIndex(),se);s.setFillStrokeStyle(r,n),s.drawPolygon(e,o)}var a=i.getText();if(a){var l=t.getReplay(i.getZIndex(),ae);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,o)}},MultiPoint:function(t,e,i,o){var r=i.getImage();if(r){if(r.getImageState()!=Tt.Z.LOADED)return;var n=t.getReplay(i.getZIndex(),re);n.setImageStyle(r,t.addDeclutter(!1)),n.drawMultiPoint(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,o)}},MultiLineString:function(t,e,i,o){var r=i.getStroke();if(r){var n=t.getReplay(i.getZIndex(),ne);n.setFillStrokeStyle(null,r),n.drawMultiLineString(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),ae);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,o)}},MultiPolygon:function(t,e,i,o){var r=i.getFill(),n=i.getStroke();if(n||r){var s=t.getReplay(i.getZIndex(),se);s.setFillStrokeStyle(r,n),s.drawMultiPolygon(e,o)}var a=i.getText();if(a){var l=t.getReplay(i.getZIndex(),ae);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,o)}},GeometryCollection:function(t,e,i,o){var r,n,s=e.getGeometriesArray();for(r=0,n=s.length;r<n;++r)(0,Me[s[r].getType()])(t,s[r],i,o)},Circle:function(t,e,i,o){var r=i.getFill(),n=i.getStroke();if(r||n){var s=t.getReplay(i.getZIndex(),ie);s.setFillStrokeStyle(r,n),s.drawCircle(e,o)}var a=i.getText();if(a){var l=t.getReplay(i.getZIndex(),ae);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,o)}}};function De(t,e){return parseInt((0,o.sq)(t),10)-parseInt((0,o.sq)(e),10)}function Ge(t,e){var i=Ne(t,e);return i*i}function Ne(t,e){return.5*t/e}function je(t,e,i,o,r,n){var s=!1,a=i.getImage();if(a){var l=a.getImageState();l==Tt.Z.LOADED||l==Tt.Z.ERROR?a.unlistenImageChange(r,n):(l==Tt.Z.IDLE&&a.load(),l=a.getImageState(),a.listenImageChange(r,n),s=!0)}return function(t,e,i,o){var r=i.getGeometryFunction()(e);if(r){var n=r.getSimplifiedGeometry(o);i.getRenderer()?ze(t,n,i,e):(0,Me[n.getType()])(t,n,i,e)}}(t,e,i,o),s}function ze(t,e,i,o){if(e.getType()!=Lt.Z.GEOMETRY_COLLECTION)t.getReplay(i.getZIndex(),oe).drawCustom(e,o,i.getRenderer());else for(var r=e.getGeometries(),n=0,s=r.length;n<s;++n)ze(t,r[n],i,o)}var Ue=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?$t()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,ut.lJ)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,ht.E4)(),(0,u.oL)(bt.GK,et.Z.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,u.Ev)(bt.GK,et.Z.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var o=e.extent,r=e.pixelRatio,n=i.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,l=s.rotation,h=a.getExtent(),u=this.getLayer().getSource(),c=this.getTransform(e,0),p=i.extent,d=void 0!==p;d&&this.clip(t,e,p);var g=this.replayGroup_;if(g&&!g.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var f,y=this.getLayer(),_=0,v=0,m=1!==i.opacity,S=y.hasListener(Q.Z.RENDER);if(m||S){var T=t.canvas.width,E=t.canvas.height;if(l){var x=Math.round(Math.sqrt(T*T+E*E));_=(x-T)/2,v=(x-E)/2,T=E=x}this.context.canvas.width=T,this.context.canvas.height=E,f=this.context}else f=t;var C=f.globalAlpha;m||(f.globalAlpha=i.opacity),f!=t&&f.translate(_,v);var w=e.viewHints,R=!(w[lt.Z.ANIMATING]||w[lt.Z.INTERACTING]),O=e.size[0]*r,b=e.size[1]*r;if((0,bt.qs)(f,-l,O/2,b/2),g.replay(f,c,l,n,R),u.getWrapX()&&a.canWrapX()&&!(0,ut.r4)(h,o)){for(var I,L=o[0],F=(0,ut.dz)(h),P=0;L<h[0];)I=F*--P,c=this.getTransform(e,I),g.replay(f,c,l,n,R),L+=F;for(P=0,L=o[2];L>h[2];)I=F*++P,c=this.getTransform(e,I),g.replay(f,c,l,n,R),L-=F}if((0,bt.qs)(f,l,O/2,b/2),S&&this.dispatchRenderEvent(f,e,c),f!=t){if(m){var k=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(f.canvas,-_,-v),t.globalAlpha=k}else t.drawImage(f.canvas,-_,-v);f.translate(-_,-v)}m||(f.globalAlpha=C)}d&&t.restore()},e.prototype.composeFrame=function(t,e,i){var o=this.getTransform(t,0);this.preCompose(i,t,o),this.compose(i,t,e),this.postCompose(i,t,e,o)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,l=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,{},(function(t){var e=(0,o.sq)(t);if(!(e in h))return h[e]=!0,r.call(n,t,l)}),null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),o=i.getSource(),r=t.viewHints[lt.Z.ANIMATING],n=t.viewHints[lt.Z.INTERACTING],s=i.getUpdateWhileAnimating(),a=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&n)return!0;var l=t.extent,h=t.viewState,u=h.projection,c=h.resolution,p=t.pixelRatio,d=i.getRevision(),g=i.getRenderBuffer(),f=i.getRenderOrder();void 0===f&&(f=De);var y=(0,ut.f3)(l,g*c),_=h.projection.getExtent();if(o.getWrapX()&&h.projection.canWrapX()&&!(0,ut.r4)(_,t.extent)){var v=(0,ut.dz)(_),m=Math.max((0,ut.dz)(y)/2,v);y[0]=_[0]-m,y[2]=_[2]+m}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&(0,ut.r4)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S=new Ze(Ne(c,p),y,c,p,o.getOverlaps(),this.declutterTree_,i.getRenderBuffer());o.loadFeatures(y,c,u);var T=function(t){var e,o=t.getStyleFunction()||i.getStyleFunction();if(o&&(e=o(t,c)),e){var r=this.renderFeature(t,c,p,e,S);this.dirty_=this.dirty_||r}}.bind(this);if(f){var E=[];o.forEachFeatureInExtent(y,(function(t){E.push(t)})),E.sort(f);for(var x=0,C=E.length;x<C;++x)T(E[x])}else o.forEachFeatureInExtent(y,T);return S.finish(),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=f,this.renderedExtent_=y,this.replayGroup_=S,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,o,r){if(!o)return!1;var n=!1;if(Array.isArray(o))for(var s=0,a=o.length;s<a;++s)n=je(r,t,o[s],Ge(e,i),this.handleStyleImageChange_,this)||n;else n=je(r,t,o,Ge(e,i),this.handleStyleImageChange_,this);return n},e}(Kt);Ue.handles=function(t){return t.getType()===xt.Z.VECTOR},Ue.create=function(t,e){return new Ue(e)};const Ye=Ue;var We=i(78181),Ke=i(18672),Xe=i(40868),qe={image:[se,ie,ne,re,ae],hybrid:[se,ne]},Be={image:[oe],hybrid:[re,ae,oe],vector:me},Ve=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?$t()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,gt.Ue)();var i=e.getRenderMode();this.zDirection=i===We.Z.VECTOR?1:0,i!==We.Z.VECTOR&&(this.context=(0,ht.E4)()),(0,u.oL)(bt.GK,et.Z.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,u.Ev)(bt.GK,et.Z.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,o,r,n){var s=t.prototype.getTile.call(this,e,i,o,r,n);return s.getState()===tt.Z.LOADED&&(this.createReplayGroup_(s,r,n),this.context&&this.renderTileImage_(s,r,n)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,i){var o=this.getLayer().getRevision();return this.renderedLayerRevision_!=o&&(this.renderedTiles.length=0),this.renderedLayerRevision_=o,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var o=this,r=this.getLayer(),n=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=n||a.renderedRenderOrder!=s){for(var l=r.getSource(),h=l.getTileGrid(),u=l.getTileGridForProjection(i).getResolution(t.tileCoord[0]),c=t.extent,p=function(n,p){var d=t.getTile(t.tileKeys[n]);if(d.getState()==tt.Z.LOADED){var g=d.tileCoord,f=h.getTileCoordExtent(g),y=(0,ut.Ed)(c,f),_=(0,ut.fS)(f,y)?null:(0,ut.f3)(y,r.getRenderBuffer()*u,o.tmpExtent),v=d.getProjection(),m=!1;(0,Ke.OP)(i,v)||(m=!0,d.setProjection(i)),a.dirty=!1;var S=new Ze(0,y,u,e,l.getOverlaps(),o.declutterTree_,r.getRenderBuffer()),T=Ge(u,e),E=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,u)),e){var o=this.renderFeature(t,T,e,S);this.dirty_=this.dirty_||o,a.dirty=a.dirty||o}},x=d.getFeatures();s&&s!==a.renderedRenderOrder&&x.sort(s);for(var C=0,w=x.length;C<w;++C){var R=x[C];m&&(v.getUnits()==Xe.default.TILE_PIXELS&&(v.setWorldExtent(f),v.setExtent(d.getExtent())),R.getGeometry().transform(v,i)),_&&!(0,ut.kK)(_,R.getGeometry().getExtent())||E.call(o,R)}S.finish(),d.setReplayGroup(r,t.tileCoord.toString(),S)}},d=0,g=t.tileKeys.length;d<g;++d)p(d);a.renderedRevision=n,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){var s=e.viewState.resolution,a=e.viewState.rotation;i=null==i?0:i;var l,h,u,c,p=this.getLayer(),d={},g=this.renderedTiles;for(u=0,c=g.length;u<c;++u){var f=g[u];if(l=(0,ut.f3)(f.extent,i*s,l),(0,ut.b8)(l,t))for(var y=0,_=f.tileKeys.length;y<_;++y){var v=f.getTile(f.tileKeys[y]);if(v.getState()==tt.Z.LOADED){var m=v.getReplayGroup(p,f.tileCoord.toString());h=h||m.forEachFeatureAtCoordinate(t,s,a,i,{},(function(t){var e=(0,o.sq)(t);if(!(e in d))return d[e]=!0,r.call(n,t,p)}),null)}}}return h},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),o=t.tileCoord,r=i.getResolution(o[0]),n=e.viewState,s=e.pixelRatio,a=n.resolution/s,l=i.getTileCoordExtent(o,this.tmpExtent),h=n.center,u=(0,ut.rL)(l),c=e.size,p=Math.round(s*c[0]/2),d=Math.round(s*c[1]/2);return(0,gt.qC)(this.tmpTransform_,p,d,r/a,r/a,n.rotation,(u[0]-h[0])/r,(h[1]-u[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,o){var r=this.getLayer(),n=r.getRenderMode();if(n!=We.Z.IMAGE){var s,a,l=r.getDeclutter()?{}:null,h=r.getSource(),u=Be[n],c=i.pixelRatio,p=i.viewState.rotation,d=i.size;p&&(s=Math.round(c*d[0]/2),a=Math.round(c*d[1]/2),(0,bt.qs)(e,-p,s,a)),l&&this.declutterTree_.clear();for(var g=i.viewHints,f=!(g[lt.Z.ANIMATING]||g[lt.Z.INTERACTING]),y=this.renderedTiles,_=h.getTileGridForProjection(i.viewState.projection),v=[],m=[],S=y.length-1;S>=0;--S){var T=y[S];if(T.getState()!=tt.Z.ABORT)for(var E=T.tileCoord,x=_.getTileCoordExtent(E,this.tmpExtent)[0]-T.extent[0],C=void 0,w=0,R=T.tileKeys.length;w<R;++w){var O=T.getTile(T.tileKeys[w]);if(O.getState()==tt.Z.LOADED){var b=O.getReplayGroup(r,E.toString());if(b&&b.hasReplays(u)){C||(C=this.getTransform(i,x));var I=O.tileCoord[0],L=b.getClipCoords(C);e.save(),e.globalAlpha=o.opacity;for(var F=0,P=v.length;F<P;++F){var k=v[F];I<m[F]&&(e.beginPath(),e.moveTo(L[0],L[1]),e.lineTo(L[2],L[3]),e.lineTo(L[4],L[5]),e.lineTo(L[6],L[7]),e.moveTo(k[6],k[7]),e.lineTo(k[4],k[5]),e.lineTo(k[2],k[3]),e.lineTo(k[0],k[1]),e.clip())}b.replay(e,C,p,{},f,u,l),e.restore(),v.push(L),m.push(I)}}}}l&&function(t,e,i,o){for(var r=Object.keys(t).map(Number).sort(N.kK),n={},s=0,a=r.length;s<a;++s)for(var l=t[r[s].toString()],h=0,u=l.length;h<u;){var c=l[h++],p=l[h++];c.replay(e,p,i,n,o)}}(l,e,p,f),p&&(0,bt.qs)(e,p,s,a)}t.prototype.postCompose.call(this,e,i,o)},e.prototype.renderFeature=function(t,e,i,o){if(!i)return!1;var r=!1;if(Array.isArray(i))for(var n=0,s=i.length;n<s;++n)r=je(o,t,i[n],e,this.handleStyleImageChange_,this)||r;else r=je(o,t,i,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,i){var o=this.getLayer(),r=t.getReplayState(o),n=o.getRevision(),s=qe[o.getRenderMode()];if(s&&r.renderedTileRevision!==n){r.renderedTileRevision=n;var a=t.wrappedTileCoord,l=a[0],h=o.getSource(),u=h.getTileGridForProjection(i),c=u.getResolution(l),p=t.getContext(o),d=h.getTilePixelSize(l,e,i);p.canvas.width=d[0],p.canvas.height=d[1];for(var g=u.getTileCoordExtent(a,this.tmpExtent),f=0,y=t.tileKeys.length;f<y;++f){var _=t.getTile(t.tileKeys[f]);if(_.getState()==tt.Z.LOADED){var v=e/c,m=(0,gt.mc)(this.tmpTransform_);(0,gt.bA)(m,v,-v),(0,gt.Iu)(m,-g[0],-g[3]),_.getReplayGroup(o,t.tileCoord.toString()).replay(p,m,0,{},!0,s)}}}},e}(Qt);Ve.handles=function(t){return t.getType()===xt.Z.VECTOR_TILE},Ve.create=function(t,e){return new Ve(e)};const He=Ve,Qe=function(t){function e(e){(e=(0,ot.f0)({},e)).controls||(e.controls=(0,_t.c)()),e.interactions||(e.interactions=(0,vt.ce)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Yt(this);return t.registerLayerRenderers([Bt,Qt,Ye,He]),t},e}(ft)},32062:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=function(t){function e(e,i,o,r,n){t.call(this,e,i,n),this.originalEvent=o,this.pixel=i.getEventPixel(o),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(i(10255).Z)},86968:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=function(t){function e(e,i,o,r,n){t.call(this,e,i,o.originalEvent,r,n),this.pointerEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(32062).Z)},10255:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=function(t){function e(e,i,o){t.call(this,e),this.map=i,this.frameState=void 0!==o?o:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(9520).ZP)},39850:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},24969:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(59900),r=i(86320),n=i(66575),s=i(73381);const a=function(t){function e(e,i,o){t.call(this);var r=o||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s.Z.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.Z.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.Z.LOADED){t.interimTile=null;break}t.getState()==o.Z.LOADING?e=t:t.getState()==o.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var o=e-i+1e3/60;return o>=this.transition_?1:(0,r.YQ)(o/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n.Z)},93888:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var o=i(83482),r=i(70701);const n=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,r.Ul)(t)[0];this.forEach((function(t){t.tileCoord[0]!==e&&(this.remove((0,r.km)(t.tileCoord)),t.dispose())}),this)}},e}(o.Z)},19473:(t,e,i)=>{"use strict";i.d(e,{T:()=>r,Z:()=>n});var o=function(t,e,i,o){this.minX=t,this.maxX=e,this.minY=i,this.maxY=o};function r(t,e,i,r,n){return void 0!==n?(n.minX=t,n.maxX=e,n.minY=i,n.maxY=r,n):new o(t,e,i,r)}o.prototype.contains=function(t){return this.containsXY(t[1],t[2])},o.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},o.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},o.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},o.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},o.prototype.getHeight=function(){return this.maxY-this.minY+1},o.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},o.prototype.getWidth=function(){return this.maxX-this.minX+1},o.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};const n=o},59900:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},76773:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>C});var o=i(10508),r=i(49179),n=i(64011),s=i(21882);function a(t){return t}var l=i(58493),h=i(79682),u=i(38642),c=i(6908),p=i(86340),d=i(38906),g=i(90728),f=i(86320),y=i(21915),_=i(28795),v=i(40353),m=i(13580),S=i(18672),T=i(40868);function E(t,e){setTimeout((function(){t(e)}),0)}function x(t){return!(t.sourceCenter&&t.targetCenter&&!(0,g.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}const C=function(t){function e(e){t.call(this);var i=(0,m.f0)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,S.UQ)(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[p.Z.CENTER]=void 0!==t.center?t.center:null;var i=function(t){var e,i,r,n=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28,l=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var u=t.resolutions;i=u[n],r=void 0!==u[a]?u[a]:u[u.length-1],e=function(t){return function(e,i,o){if(void 0!==e){var r=(0,h.h7)(t,e,o);r=(0,s.uZ)(r+i,0,t.length-1);var n=Math.floor(r);if(r!=n&&n<t.length-1){var a=t[n]/t[n+1];return t[n]/Math.pow(a,r-n)}return t[n]}}}(u)}else{var c=(0,S.UQ)(t.projection,"EPSG:3857"),p=c.getExtent(),d=(p?Math.max((0,y.dz)(p),(0,y.Cr)(p)):360*T.METERS_PER_UNIT[T.default.DEGREES]/c.getMetersPerUnit())/o.S/Math.pow(2,0),g=d/Math.pow(2,28);void 0!==(i=t.maxResolution)?n=0:i=d/Math.pow(l,n),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(l,a):d/Math.pow(l,a):g),a=n+Math.floor(Math.log(i/r)/Math.log(l)),r=i/Math.pow(l,a-n),e=function(t,e,i){return function(o,r,n){if(void 0!==o){var s=-n/2+.5,a=Math.floor(Math.log(e/o)/Math.log(t)+s),l=Math.max(a+r,0);return void 0!==i&&(l=Math.min(l,i)),e/Math.pow(t,l)}}}(l,i,a-n)}return{constraint:e,maxResolution:i,minResolution:r,minZoom:n,zoomFactor:l}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var r=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[(0,s.uZ)(t[0],e[0],e[2]),(0,s.uZ)(t[1],e[1],e[3])]:void 0}):a;var e}(t),n=i.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,u.Gw)():!1===e?u.YP:"number"==typeof e?(0,u.gE)(e):u.YP}return u.h$}(t);this.constraints_={center:r,resolution:n,rotation:l},void 0!==t.resolution?e[p.Z.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[p.Z.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[p.Z.RESOLUTION]=(0,s.uZ)(Number(this.getResolution()||e[p.Z.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[p.Z.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,m.f0)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),(0,m.f0)({},e,t)},e.prototype.animate=function(t){var e,i=arguments,o=arguments.length;if(o>1&&"function"==typeof arguments[o-1]&&(e=arguments[o-1],--o),!this.isDef()){var r=arguments[o-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&E(e,!0))}for(var n=Date.now(),a=this.getCenter().slice(),l=this.getResolution(),h=this.getRotation(),u=[],p=0;p<o;++p){var d=i[p],g={start:n,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||f.rd};if(d.center&&(g.sourceCenter=a,g.targetCenter=d.center,a=g.targetCenter),void 0!==d.zoom?(g.sourceResolution=l,g.targetResolution=this.constrainResolution(this.maxResolution_,d.zoom-this.minZoom_,0),l=g.targetResolution):d.resolution&&(g.sourceResolution=l,g.targetResolution=d.resolution,l=g.targetResolution),void 0!==d.rotation){g.sourceRotation=h;var y=(0,s.$W)(d.rotation-h+Math.PI,2*Math.PI)-Math.PI;g.targetRotation=h+y,h=g.targetRotation}g.callback=e,x(g)?g.complete=!0:n+=g.duration,u.push(g)}this.animations_.push(u),this.setHint(c.Z.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.Z.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.Z.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.Z.ANIMATING,-this.hints_[c.Z.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&E(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],r=!0,n=0,a=o.length;n<a;++n){var l=o[n];if(!l.complete){var h=t-l.start,u=l.duration>0?h/l.duration:1;u>=1?(l.complete=!0,u=1):r=!1;var d=l.easing(u);if(l.sourceCenter){var g=l.sourceCenter[0],f=l.sourceCenter[1],y=g+d*(l.targetCenter[0]-g),_=f+d*(l.targetCenter[1]-f);this.set(p.Z.CENTER,[y,_])}if(l.sourceResolution&&l.targetResolution){var v=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(p.Z.CENTER,this.calculateCenterZoom(v,l.anchor)),this.set(p.Z.RESOLUTION,v)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var m=1===d?(0,s.$W)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(p.Z.CENTER,this.calculateCenterRotate(m,l.anchor)),this.set(p.Z.ROTATION,m)}if(e=!0,!l.complete)break}}if(r){this.animations_[i]=null,this.setHint(c.Z.ANIMATING,-1);var S=o[0].callback;S&&E(S,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenter();return void 0!==o&&(i=[o[0]-e[0],o[1]-e[1]],(0,g.U1)(i,t-this.getRotation()),(0,g.IH)(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenter(),r=this.getResolution();return void 0!==o&&void 0!==r&&(i=[e[0]-t*(e[0]-o[0])/r,e[1]-t*(e[1]-o[1])/r]),i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,r.sq)(this)+'"]',i=document.querySelector(e);if(i){var o=getComputedStyle(i);t[0]=parseInt(o.width,10),t[1]=parseInt(o.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var o=e||0,r=i||0;return this.constraints_.resolution(t,o,r)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(p.Z.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();(0,d.h)(i,1);var o=this.getResolution();(0,d.h)(void 0!==o,2);var r=this.getRotation();return(0,d.h)(void 0!==r,3),(0,y.p8)(i,o,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(p.Z.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),o=(0,y.dz)(t)/i[0],r=(0,y.Cr)(t)/i[1];return Math.max(o,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,r=Math.log(i/o)/Math.log(e);return function(t){return i/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(p.Z.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,r=Math.log(i/o)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),o=this.getResolution(),r=o/t,n=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==i?i:null,resolution:o,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,o=this.minZoom_||0;if(this.resolutions_){var r=(0,h.h7)(this.resolutions_,t,1);o=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,o=e||{},r=o.size;r||(r=this.getSizeFromViewport_()),(0,d.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,d.h)(!(0,y.xb)(t),25),i=(0,v.oJ)(t)):t.getType()===_.Z.CIRCLE?(t=t.getExtent(),(i=(0,v.oJ)(t)).rotate(this.getRotation(),(0,y.qg)(t))):i=t;var s,a=void 0!==o.padding?o.padding:[0,0,0,0],l=void 0===o.constrainResolution||o.constrainResolution,h=void 0!==o.nearest&&o.nearest;s=void 0!==o.minResolution?o.minResolution:void 0!==o.maxZoom?this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0):0;for(var u=i.getFlatCoordinates(),c=this.getRotation(),p=Math.cos(-c),g=Math.sin(-c),f=1/0,m=1/0,S=-1/0,T=-1/0,x=i.getStride(),C=0,w=u.length;C<w;C+=x){var R=u[C]*p-u[C+1]*g,O=u[C]*g+u[C+1]*p;f=Math.min(f,R),m=Math.min(m,O),S=Math.max(S,R),T=Math.max(T,O)}var b=this.getResolutionForExtent([f,m,S,T],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(b=isNaN(b)?s:Math.max(b,s),l){var I=this.constrainResolution(b,0,0);!h&&I<b&&(I=this.constrainResolution(I,-1,0)),b=I}g=-g;var L=(f+S)/2,F=(m+T)/2,P=[(L+=(a[1]-a[3])/2*b)*p-(F+=(a[0]-a[2])/2*b)*g,F*p+L*g],k=o.callback?o.callback:n.Zn;void 0!==o.duration?this.animate({resolution:b,center:P,duration:o.duration,easing:o.easing},k):(this.setResolution(b),this.setCenter(P),E(k,!0))},e.prototype.centerOn=function(t,e,i){var o=this.getRotation(),r=Math.cos(-o),n=Math.sin(-o),s=t[0]*r-t[1]*n,a=t[1]*r+t[0]*n,l=this.getResolution(),h=(s+=(e[0]/2-i[0])*l)*r-(a+=(i[1]-e[1]/2)*l)*(n=-n),u=a*r+s*n;this.setCenter([h,u])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(p.Z.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(p.Z.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(p.Z.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(l.ZP)},86340:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},19530:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var o=i(64011),r=i(40188),n=i(58493),s=i(85386),a=i(13002);const l=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:o.Zn,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,s.ZF)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,s.ZF)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)(0,a.bN)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.Zn&&this.listenerKeys.push((0,a.oL)(t,r.Z.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(n.ZP)},99937:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var o=i(13002),r=i(73381),n=i(19530),s=i(67644),a=i(86320);const l=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var n=void 0!==i.className?i.className:"ol-zoom",a=void 0!==i.delta?i.delta:1,l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",h=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",u=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=n+"-in",p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof l?document.createTextNode(l):l),(0,o.oL)(p,r.Z.CLICK,this.handleClick_.bind(this,a));var d=document.createElement("button");d.className=n+"-out",d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof h?document.createTextNode(h):h),(0,o.oL)(d,r.Z.CLICK,this.handleClick_.bind(this,-a));var g=n+" "+s.XV+" "+s.hg,f=this.element;f.className=g,f.appendChild(p),f.appendChild(d),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var o=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,duration:this.duration_,easing:a.Vv})):e.setResolution(o)}}},e}(n.Z)},70878:(t,e,i)=>{"use strict";i.d(e,{c:()=>_});var o=i(78426),r=i(79682),n=i(19530),s=i(67644),a=i(85386),l=i(13002),h=i(73381),u=i(77701);function c(t){this.updateElement_(t.frameState)}const p=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||c,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",n=void 0!==i.collapseLabel?i.collapseLabel:"";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var a=void 0!==i.label?i.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,p=document.createElement("button");p.setAttribute("type","button"),p.title=r,p.appendChild(u),(0,l.oL)(p,h.Z.CLICK,this.handleClick_,this);var d=o+" "+s.XV+" "+s.hg+(this.collapsed_&&this.collapsible_?" "+s.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),g=this.element;g.className=d,g.appendChild(this.ulElement_),g.appendChild(p),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],o=t.layerStatesArray,r=t.viewState.resolution,n=0,s=o.length;n<s;++n){var a=o[n];if((0,u.l)(a,r)){var l=a.layer.getSource();if(l){var h=l.getAttributions();if(h){var c=h(t);if(c)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var p=0,d=c.length;p<d;++p)c[p]in e||(i.push(c[p]),e[c[p]]=!0);else c in e||(i.push(c),e[c]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,r.fS)(e,this.renderedAttributions_)){(0,a.ep)(this.ulElement_);for(var o=0,n=e.length;o<n;++o){var s=document.createElement("li");s.innerHTML=e[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.hN),this.collapsed_?(0,a.$H)(this.collapseLabel_,this.label_):(0,a.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(n.Z);var d=i(86320);function g(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var r=this.element.classList.contains(s.oj);r||0!==i?r&&0!==i&&this.element.classList.remove(s.oj):this.element.classList.add(s.oj)}this.label_.style.msTransform=o,this.label_.style.webkitTransform=o,this.label_.style.transform=o}this.rotation_=i}}const f=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||g,target:i.target});var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var n=i.tipLabel?i.tipLabel:"Reset rotation",a=document.createElement("button");a.className=o+"-reset",a.setAttribute("type","button"),a.title=n,a.appendChild(this.label_),(0,l.oL)(a,h.Z.CLICK,this.handleClick_,this);var u=o+" "+s.XV+" "+s.hg,c=this.element;c.className=u,c.appendChild(a),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.oj)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:d.Vv}):t.setRotation(0))},e}(n.Z);var y=i(99937);function _(t){var e=t||{},i=new o.Z;return(void 0===e.zoom||e.zoom)&&i.push(new y.Z(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new f(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new p(e.attributionOptions)),i}},18334:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a,j:()=>l});var o=i(13580),r=i(49179),n=i(18672),s=function(){this.dataProjection=null,this.defaultFeatureProjection=null};s.prototype.getReadOptions=function(t,e){var i;return e&&(i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(i)},s.prototype.adaptOptions=function(t){return(0,o.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},s.prototype.getLastExtent=function(){return null},s.prototype.getType=function(){return(0,r.O3)()},s.prototype.readFeature=function(t,e){return(0,r.O3)()},s.prototype.readFeatures=function(t,e){return(0,r.O3)()},s.prototype.readGeometry=function(t,e){return(0,r.O3)()},s.prototype.readProjection=function(t){return(0,r.O3)()},s.prototype.writeFeature=function(t,e){return(0,r.O3)()},s.prototype.writeFeatures=function(t,e){return(0,r.O3)()},s.prototype.writeGeometry=function(t,e){return(0,r.O3)()};const a=s;function l(t,e,i){var o,r=i?(0,n.U2)(i.featureProjection):null,s=i?(0,n.U2)(i.dataProjection):null;if(o=r&&s&&!(0,n.OP)(r,s)?Array.isArray(t)?(0,n.$A)(t,s,r):(e?t.clone():t).transform(e?r:s,e?s:r):t,e&&i&&void 0!==i.decimals&&!Array.isArray(o)){var a=Math.pow(10,i.decimals);o===t&&(o=t.clone()),o.applyTransform((function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return o}},69141:(t,e,i)=>{"use strict";i.d(e,{Z:()=>m});var o=i(38906),r=i(23068),n=i(18334),s=i(98968),a=i(98090),l=i(44538),h=i(25642),u=i(52329),c=i(13987),p=i(52043),d=i(40353),g=i(13580),f=i(18672),y=i(28795);function _(t,e){if(!t)return null;var i;switch(t.type){case y.Z.POINT:i=function(t){return new p.Z(t.coordinates)}(t);break;case y.Z.LINE_STRING:i=function(t){return new l.Z(t.coordinates)}(t);break;case y.Z.POLYGON:i=function(t){return new d.ZP(t.coordinates)}(t);break;case y.Z.MULTI_POINT:i=function(t){return new u.Z(t.coordinates)}(t);break;case y.Z.MULTI_LINE_STRING:i=function(t){return new h.Z(t.coordinates)}(t);break;case y.Z.MULTI_POLYGON:i=function(t){return new c.Z(t.coordinates)}(t);break;case y.Z.GEOMETRY_COLLECTION:i=function(t,e){var i=t.geometries.map((function(t){return _(t,undefined)}));return new a.default(i)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,n.j)(i,!1,e)}function v(t,e){var i,o=(t=(0,n.j)(t,!0,e)).getType();switch(o){case y.Z.POINT:i=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case y.Z.LINE_STRING:i=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case y.Z.POLYGON:i=function(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(i)}}(t,e);break;case y.Z.MULTI_POINT:i=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case y.Z.MULTI_LINE_STRING:i=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case y.Z.MULTI_POLYGON:i=function(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}(t,e);break;case y.Z.GEOMETRY_COLLECTION:i=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var i=(0,g.f0)({},e);return delete i.featureProjection,v(t,i)}))}}(t,e);break;case y.Z.CIRCLE:i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+o)}return i}const m=function(t){function e(e){var i=e||{};t.call(this),this.dataProjection=(0,f.U2)(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(this.defaultFeatureProjection=(0,f.U2)(i.featureProjection)),this.geometryName_=i.geometryName,this.extractGeometryName_=i.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var i,o=_((i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),n=new r.Z;return this.geometryName_?n.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&n.setGeometryName(i.geometry_name),n.setGeometry(o),"id"in i&&n.setId(i.id),i.properties&&n.setProperties(i.properties),n},e.prototype.readFeaturesFromObject=function(t,e){var i=null;if("FeatureCollection"===t.type){i=[];for(var o=t.features,r=0,n=o.length;r<n;++r)i.push(this.readFeatureFromObject(o[r],e))}else i=[this.readFeatureFromObject(t,e)];return i},e.prototype.readGeometryFromObject=function(t,e){return _(t,e)},e.prototype.readProjectionFromObject=function(t){var e,i=t.crs;return i?"name"==i.type?e=(0,f.U2)(i.properties.name):(0,o.h)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},o=t.getId();void 0!==o&&(i.id=o);var r=t.getGeometry();r&&(i.geometry=v(r,e));var n=t.getProperties();return delete n[t.getGeometryName()],(0,g.xb)(n)||(i.properties=n),i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,r=t.length;o<r;++o)i.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,e){return v(t,this.adaptOptions(e))},e}(s.Z)},98968:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(49179),r=i(18334),n=i(34007);function s(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return n.Z.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,o.O3)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,o.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,o.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(s(t))},e.prototype.readProjectionFromObject=function(t){return(0,o.O3)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,o.O3)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,o.O3)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,o.O3)()},e}(r.Z)},37566:(t,e,i)=>{"use strict";i.d(e,{ce:()=>y});var o=i(78426),r=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var o=this.points_[e+2]-this.points_[i+2];if(o<1e3/60)return!1;var r=this.points_[e]-this.points_[i],n=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(n,r),this.initialVelocity_=Math.sqrt(r*r+n*n)/o,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_};const n=r;var s=i(18369),a=i(73800),l=i(97950),h=i(78516),u=i(45801),c=i(52),p=i(86306),d=i(78653),g=i(48041),f=i(36403);function y(t){var e=t||{},i=new o.Z,r=new n(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new l.Z),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new s.Z({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new a.Z({condition:e.onFocusOnly?f.T_:void 0,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new d.Z),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new g.Z({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new u.Z),i.push(new c.Z({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new p.Z({condition:e.onFocusOnly?f.T_:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new h.Z({duration:e.zoomDuration})),i}},31742:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>y});var o=i(49179),r=i(78426),n=i(19629),s=i(58493),a=i(13910),l=i(38906),h=i(13002),u=i(73381),c=i(21915),p=i(10410),d=i(13580),g=i(82418),f="layers";const y=function(t){function e(e){var i=e||{},o=(0,d.f0)({},i);delete o.layers;var n=i.layers;t.call(this,o),this.layersListenerKeys_=[],this.listenerKeys_={},(0,h.oL)(this,(0,s.v_)(f),this.handleLayersChanged_,this),n?Array.isArray(n)?n=new r.Z(n.slice(),{unique:!0}):(0,l.h)("function"==typeof n.getArray,43):n=new r.Z(void 0,{unique:!0}),this.setLayers(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(h.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,h.oL)(t,n.Z.ADD,this.handleLayersAdd_,this),(0,h.oL)(t,n.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(h.bN);(0,d.ZH)(this.listenerKeys_);for(var i=t.getArray(),r=0,s=i.length;r<s;r++){var l=i[r];this.listenerKeys_[(0,o.sq)(l)]=[(0,h.oL)(l,a.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,h.oL)(l,u.Z.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,o.sq)(e)]=[(0,h.oL)(e,a.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,h.oL)(e,u.Z.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=(0,o.sq)(e);this.listenerKeys_[i].forEach(h.bN),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(f)},e.prototype.setLayers=function(t){this.set(f,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var o=this.getLayerState(),r=i,n=e.length;r<n;r++){var s=e[r];s.opacity*=o.opacity,s.visible=s.visible&&o.visible,s.maxResolution=Math.min(s.maxResolution,o.maxResolution),s.minResolution=Math.max(s.minResolution,o.minResolution),void 0!==o.extent&&(void 0!==s.extent?s.extent=(0,c.Ed)(s.extent,o.extent):s.extent=o.extent)}return e},e.prototype.getSourceState=function(){return g.Z.READY},e}(p.default)},78181:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},34681:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var o=function(t,e){this.dispatcher=t,this.mapping_=e};o.prototype.getEvents=function(){return Object.keys(this.mapping_)},o.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};const r=o},14303:(t,e,i)=>{"use strict";i.d(e,{yA:()=>r,T2:()=>n,R:()=>c,ZP:()=>p});var o=i(34681),r=1,n="mouse";function s(t){if(!this.isEventSimulatedFromTouch_(t)){r.toString()in this.pointerMap&&this.cancel(t);var e=c(t,this.dispatcher);this.pointerMap[r.toString()]=t,this.dispatcher.down(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=c(t,this.dispatcher);this.dispatcher.move(e,t)}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[r.toString()];if(e&&e.button===t.button){var i=c(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function h(t){if(!this.isEventSimulatedFromTouch_(t)){var e=c(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=c(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function c(t,e){var i=e.cloneEvent(t,t),o=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),o()},i.pointerId=r,i.isPrimary=!0,i.pointerType=n,i}const p=function(t){function e(e){var i={mousedown:s,mousemove:a,mouseup:l,mouseover:h,mouseout:u};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,o=t.clientY,r=0,n=e.length,s=void 0;r<n&&(s=e[r]);r++){var a=Math.abs(i-s[0]),l=Math.abs(o-s[1]);if(a<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=c(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[r.toString()]},e}(o.Z)},52209:(t,e,i)=>{"use strict";i.d(e,{a:()=>a,s:()=>h});var o=i(85386),r=i(21915),n=i(21882),s=i(18672);function a(t,e,i,o){var n=(0,s.vs)(i,e,t),a=(0,s._Q)(e,o,i),l=e.getMetersPerUnit();void 0!==l&&(a*=l);var h=t.getMetersPerUnit();void 0!==h&&(a/=h);var u=t.getExtent();if(!u||(0,r.b8)(u,n)){var c=(0,s._Q)(t,a,n)/a;isFinite(c)&&c>0&&(a/=c)}return a}function l(t,e,i,o){var r=i-t,n=o-e,s=Math.sqrt(r*r+n*n);return[Math.round(i+r/s),Math.round(o+n/s)]}function h(t,e,i,s,a,h,u,c,p,d,g){var f=(0,o.E4)(Math.round(i*t),Math.round(i*e));if(0===p.length)return f.canvas;f.scale(i,i);var y=(0,r.lJ)();p.forEach((function(t,e,i){(0,r.l7)(y,t.extent)}));var _=(0,r.dz)(y),v=(0,r.Cr)(y),m=(0,o.E4)(Math.round(i*_/s),Math.round(i*v/s)),S=i/s;p.forEach((function(t,e,i){var o=t.extent[0]-y[0],n=-(t.extent[3]-y[3]),s=(0,r.dz)(t.extent),a=(0,r.Cr)(t.extent);m.drawImage(t.image,d,d,t.image.width-2*d,t.image.height-2*d,o*S,n*S,s*S,a*S)}));var T=(0,r.rL)(u);return c.getTriangles().forEach((function(t,e,o){var r=t.source,a=t.target,u=r[0][0],c=r[0][1],p=r[1][0],d=r[1][1],g=r[2][0],_=r[2][1],v=(a[0][0]-T[0])/h,S=-(a[0][1]-T[1])/h,E=(a[1][0]-T[0])/h,x=-(a[1][1]-T[1])/h,C=(a[2][0]-T[0])/h,w=-(a[2][1]-T[1])/h,R=u,O=c;u=0,c=0;var b=[[p-=R,d-=O,0,0,E-v],[g-=R,_-=O,0,0,C-v],[0,0,p,d,x-S],[0,0,g,_,w-S]],I=(0,n.SV)(b);if(I){f.save(),f.beginPath();var L=(v+E+C)/3,F=(S+x+w)/3,P=l(L,F,v,S),k=l(L,F,E,x),A=l(L,F,C,w);f.moveTo(k[0],k[1]),f.lineTo(P[0],P[1]),f.lineTo(A[0],A[1]),f.clip(),f.transform(I[0],I[2],I[1],I[3],v,S),f.translate(y[0]-R,y[3]-O),f.scale(s/i,-s/i),f.drawImage(m.canvas,0,0),f.restore()}})),g&&(f.save(),f.strokeStyle="black",f.lineWidth=1,c.getTriangles().forEach((function(t,e,i){var o=t.target,r=(o[0][0]-T[0])/h,n=-(o[0][1]-T[1])/h,s=(o[1][0]-T[0])/h,a=-(o[1][1]-T[1])/h,l=(o[2][0]-T[0])/h,u=-(o[2][1]-T[1])/h;f.beginPath(),f.moveTo(s,a),f.lineTo(r,n),f.lineTo(l,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}},56245:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(21915),r=i(21882),n=i(18672),s=function(t,e,i,r,s){this.sourceProj_=t,this.targetProj_=e;var a={},l=(0,n.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=l(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,o.dz)(r)==(0,o.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,o.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,o.dz)(this.targetProj_.getExtent()):null;var h=(0,o.rL)(i),u=(0,o.Xv)(i),c=(0,o.w$)(i),p=(0,o.hC)(i),d=this.transformInv_(h),g=this.transformInv_(u),f=this.transformInv_(c),y=this.transformInv_(p);if(this.addQuad_(h,u,c,p,d,g,f,y,10),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach((function(t,e,i){_=Math.min(_,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-_>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-_>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-_>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-_>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}};s.prototype.addTriangle_=function(t,e,i,o,r,n){this.triangles_.push({source:[o,r,n],target:[t,e,i]})},s.prototype.addQuad_=function(t,e,i,n,s,a,l,h,u){var c=(0,o.hI)([s,a,l,h]),p=this.sourceWorldWidth_?(0,o.dz)(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&p>.5&&p<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var y=(0,o.hI)([t,e,i,n]);f=(0,o.dz)(y)/this.targetWorldWidth_>.25||f}!g&&this.sourceProj_.isGlobal()&&p&&(f=p>.25||f)}if(f||!this.maxSourceExtent_||(0,o.kK)(c,this.maxSourceExtent_)){if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(u>0))return;f=!0}if(u>0){if(!f){var _,v=[(t[0]+i[0])/2,(t[1]+i[1])/2],m=this.transformInv_(v);_=g?((0,r.$W)(s[0],d)+(0,r.$W)(l[0],d))/2-(0,r.$W)(m[0],d):(s[0]+l[0])/2-m[0];var S=(s[1]+l[1])/2-m[1];f=_*_+S*S>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var T=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(T),x=[(n[0]+t[0])/2,(n[1]+t[1])/2],C=this.transformInv_(x);this.addQuad_(t,e,T,x,s,a,E,C,u-1),this.addQuad_(x,T,i,n,C,E,l,h,u-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],R=this.transformInv_(w),O=[(i[0]+n[0])/2,(i[1]+n[1])/2],b=this.transformInv_(O);this.addQuad_(t,w,O,n,s,R,b,h,u-1),this.addQuad_(w,e,i,O,R,a,l,b,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,n,s,l,h),this.addTriangle_(t,e,i,s,a,l)}},s.prototype.calculateSourceExtent=function(){var t=(0,o.lJ)();return this.triangles_.forEach((function(e,i,r){var n=e.source;(0,o.Wj)(t,n[0]),(0,o.Wj)(t,n[1]),(0,o.Wj)(t,n[2])})),t},s.prototype.getTriangles=function(){return this.triangles_};const a=s},35211:(t,e,i)=>{"use strict";i.d(e,{m:()=>o,j:()=>r});var o=.5,r=!0},50596:(t,e,i)=>{"use strict";function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function r(t){return t[0]>0&&t[1]>0}function n(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}i.d(e,{f3:()=>o,py:()=>r,bA:()=>n,Pq:()=>s})},92663:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>b});var o=i(14431),r=i(29217),n=i(11256),s=i(13002),a=i(73381),l=i(21915);const h=function(t){function e(e,i,o,r,s,a){t.call(this,e,i,o,n.Z.IDLE),this.src_=r,this.image_=new Image,null!==s&&(this.image_.crossOrigin=s),this.imageListenerKeys_=null,this.state=n.Z.IDLE,this.imageLoadFunction_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=n.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,l.Cr)(this.extent)/this.image_.height),this.state=n.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=n.Z.IDLE&&this.state!=n.Z.ERROR||(this.state=n.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,s.Vx)(this.image_,a.Z.ERROR,this.handleImageError_,this),(0,s.Vx)(this.image_,a.Z.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.bN),this.imageListenerKeys_=null},e}(r.Z);var u=i(38906),c=i(13580),p=i(18672),d=i(52209),g=i(49179),f=i(35211),y=i(79682),_=i(9520),v=i(56245);const m=function(t){function e(e,i,o,r,s,a){var h=e.getExtent(),u=i.getExtent(),c=u?(0,l.Ed)(o,u):o,p=(0,l.qg)(c),g=(0,d.a)(e,i,p,r),y=f.m,_=new v.Z(e,i,c,h,g*y),m=a(_.calculateSourceExtent(),g,s),S=n.Z.LOADED;m&&(S=n.Z.IDLE);var T=m?m.getPixelRatio():1;t.call(this,o,r,T,S),this.targetProj_=i,this.maxSourceExtent_=h,this.triangulation_=_,this.targetResolution_=r,this.targetExtent_=o,this.sourceImage_=m,this.sourcePixelRatio_=T,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n.Z.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==n.Z.LOADED){var e=(0,l.dz)(this.targetExtent_)/this.targetResolution_,i=(0,l.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,d.s)(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==n.Z.IDLE){this.state=n.Z.LOADING,this.changed();var t=this.sourceImage_.getState();t==n.Z.LOADED||t==n.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,s.oL)(this.sourceImage_,a.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=n.Z.LOADED&&e!=n.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,s.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(r.Z);var S=i(71405),T=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(_.ZP);function E(t,e){t.getImage().src=e}const x=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,y.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,o){var r=this.getProjection();if(f.j&&r&&o&&!(0,p.OP)(r,o)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,p.OP)(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==e&&(0,l.fS)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new m(r,o,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,r)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(o=r),this.getImageInternal(t,e,i,o)},e.prototype.getImageInternal=function(t,e,i,o){return(0,g.O3)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case n.Z.LOADING:this.loading=!0,this.dispatchEvent(new T("imageloadstart",e));break;case n.Z.LOADED:this.loading=!1,this.dispatchEvent(new T("imageloadend",e));break;case n.Z.ERROR:this.loading=!1,this.dispatchEvent(new T("imageloaderror",e))}},e}(S.Z);var C=i(99274),w=i(79313),R=i(78487),O=[101,101];const b=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:E,this.params_=i.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){if(void 0!==this.url_){var n=(0,p.U2)(i),s=this.getProjection();s&&s!==n&&(e=(0,d.a)(s,n,t,e),t=(0,p.vs)(t,n,s));var a=(0,l.p8)(t,e,0,O),h={SERVICE:"WMS",VERSION:o.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,c.f0)(h,this.params_,r);var u=Math.floor((t[0]-a[0])/e),g=Math.floor((a[3]-t[1])/e);return h[this.v13_?"I":"X"]=u,h[this.v13_?"J":"Y"]=g,this.getRequestUrl_(a,O,1,s||n,h)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var n=e/i,u=(0,l.qg)(t),p=Math.ceil((0,l.dz)(t)/n),d=Math.ceil((0,l.Cr)(t)/n),g=(0,l.p8)(u,n,0,[p,d]),f=Math.ceil(this.ratio_*(0,l.dz)(t)/n),y=Math.ceil(this.ratio_*(0,l.Cr)(t)/n),_=(0,l.p8)(u,n,0,[f,y]),v=this.image_;if(v&&this.renderedRevision_==this.getRevision()&&v.getResolution()==e&&v.getPixelRatio()==i&&(0,l.r4)(v.getExtent(),g))return v;var m={SERVICE:"WMS",VERSION:o.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,c.f0)(m,this.params_),this.imageSize_[0]=Math.round((0,l.dz)(_)/n),this.imageSize_[1]=Math.round((0,l.Cr)(_)/n);var S=this.getRequestUrl_(_,this.imageSize_,i,r,m);return this.image_=new h(_,e,i,S,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,s.oL)(this.image_,a.Z.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,o,r){if((0,u.h)(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=i)switch(this.serverType_){case C.Z.GEOSERVER:var n=90*i+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+n:r.FORMAT_OPTIONS="dpi:"+n;break;case C.Z.MAPSERVER:r.MAP_RESOLUTION=90*i;break;case C.Z.CARMENTA_SERVER:case C.Z.QGIS:r.DPI=90*i;break;default:(0,u.h)(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];var s,a=o.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=s.join(","),(0,R.B)(this.url_,r)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,c.f0)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||o.E;this.v13_=(0,w.n)(t,"1.3")>=0},e}(x)},76122:(t,e,i)=>{"use strict";i.d(e,{Z:()=>x});var o=i(35211),r=i(49179),n=i(24969),s=i(59900),a=i(85386),l=i(13002),h=i(73381);function u(){var t=(0,a.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const c=function(t){function e(e,i,o,r,n,s){t.call(this,e,i,s),this.crossOrigin_=r,this.src_=o,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&(this.unlistenImage_(),this.image_=u()),this.interimTile&&this.interimTile.dispose(),this.state=s.Z.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=u(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,l.Vx)(this.image_,h.Z.ERROR,this.handleImageError_,this),(0,l.Vx)(this.image_,h.Z.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.bN),this.imageListenerKeys_=null},e}(n.Z);var p=i(93888),d=i(18672),g=i(21915),f=i(21882),y=i(52209),_=i(56245);const v=function(t){function e(e,i,r,n,a,l,h,u,c,p,d){t.call(this,a,s.Z.IDLE),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=h,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=n,this.wrappedTileCoord_=l||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var v=n.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent(),S=this.sourceTileGrid_.getExtent(),T=m?(0,g.Ed)(v,m):v;if(0!==(0,g.bg)(T)){var E=e.getExtent();E&&(S=S?(0,g.Ed)(S,E):E);var x=n.getResolution(this.wrappedTileCoord_[0]),C=(0,g.qg)(T),w=(0,y.a)(e,r,C,x);if(!isFinite(w)||w<=0)this.state=s.Z.EMPTY;else{var R=void 0!==p?p:o.m;if(this.triangulation_=new _.Z(e,r,T,S,w*R),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(w);var O=this.triangulation_.calculateSourceExtent();if(S&&(e.canWrapX()?(O[1]=(0,f.uZ)(O[1],S[1],S[3]),O[3]=(0,f.uZ)(O[3],S[1],S[3])):O=(0,g.Ed)(O,S)),(0,g.bg)(O)){for(var b=i.getTileRangeForExtentAndZ(O,this.sourceZ_),I=b.minX;I<=b.maxX;I++)for(var L=b.minY;L<=b.maxY;L++){var F=c(this.sourceZ_,I,L,h);F&&this.sourceTiles_.push(F)}0===this.sourceTiles_.length&&(this.state=s.Z.EMPTY)}else this.state=s.Z.EMPTY}else this.state=s.Z.EMPTY}}else this.state=s.Z.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,o){e&&e.getState()==s.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=s.Z.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),o="number"==typeof i?i:i[0],r="number"==typeof i?i:i[1],n=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,y.s)(o,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),n,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=s.Z.LOADED}this.changed()},e.prototype.load=function(){if(this.state==s.Z.IDLE){this.state=s.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,o){var r=e.getState();if(r==s.Z.IDLE||r==s.Z.LOADING){t++;var n=(0,l.oL)(e,h.Z.CHANGE,(function(i){var o=e.getState();o!=s.Z.LOADED&&o!=s.Z.ERROR&&o!=s.Z.EMPTY||((0,l.bN)(n),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){t.getState()==s.Z.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(l.bN),this.sourcesListenerKeys_=null},e}(n.Z);var m=i(44280),S=i(70701),T=i(86018);function E(t,e){t.getImage().src=e}const x=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:E,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:c,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!o.j)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(o.j){var r=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[n];s.expireCache(s==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return o.j&&this.getProjection()&&t&&!(0,d.OP)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(o.j&&this.getProjection()&&e&&!(0,d.OP)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!o.j)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!(0,d.OP)(i,e)){var n=(0,r.sq)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,T.X$)(e)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!o.j)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||(0,d.OP)(i,e))return this.tileCache;var n=(0,r.sq)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new p.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,i,o,r,n){var a=[t,e,i],u=this.getTileCoordForTileUrlFunction(a,r),c=u?this.tileUrlFunction(u,o,r):void 0,p=new this.tileClass(a,void 0!==c?s.Z.IDLE:s.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=n,(0,l.oL)(p,h.Z.CHANGE,this.handleTileChange,this),p},e.prototype.getTile=function(t,e,i,r,n){var s=this.getProjection();if(o.j&&s&&n&&!(0,d.OP)(s,n)){var a,l=this.getTileCacheForProjection(n),h=[t,e,i],u=(0,S.km)(h);l.containsKey(u)&&(a=l.get(u));var c=this.getKey();if(a&&a.key==c)return a;var p=this.getTileGridForProjection(s),g=this.getTileGridForProjection(n),f=this.getTileCoordForTileUrlFunction(h,n),y=new v(s,p,n,g,h,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,o){return this.getTileInternal(t,e,i,o,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=c,a?(y.interimTile=a,y.refreshInterimChain(),l.replace(u,y)):l.set(u,y),y}return this.getTileInternal(t,e,i,r,s||n)},e.prototype.getTileInternal=function(t,e,i,o,r){var n=null,a=(0,S.lg)(t,e,i),l=this.getKey();if(this.tileCache.containsKey(a)){if((n=this.tileCache.get(a)).key!=l){var h=n;n=this.createTile_(t,e,i,o,r,l),h.getState()==s.Z.IDLE?n.interimTile=h.interimTile:n.interimTile=h,n.refreshInterimChain(),this.tileCache.replace(a,n)}}else n=this.createTile_(t,e,i,o,r,l),this.tileCache.set(a,n);return n},e.prototype.setRenderReprojectionEdges=function(t){if(o.j&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(o.j){var i=(0,d.U2)(t);if(i){var n=(0,r.sq)(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=e)}}},e}(m.Z)},91587:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>_});var o=i(14431),r=i(38906),n=i(21915),s=i(13580),a=i(21882),l=i(18672),h=i(52209),u=i(50596),c=i(76122),p=i(99274),d=i(70701),g=i(79313),f=i(78487);function y(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var a=r.getResolution(t[0]),l=r.getTileCoordExtent(t,this.tmpExtent_),h=(0,u.Pq)(r.getTileSize(t[0]),this.tmpSize),c=this.gutter_;0!==c&&(h=(0,u.f3)(h,c,this.tmpSize),l=(0,n.f3)(l,a*c,l)),1!=e&&(h=(0,u.bA)(h,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:o.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,s.f0)(p,this.params_),this.getRequestUrl_(t,h,l,e,i,p)}}const _=function(t){function e(e){var i=e||{},o=i.params||{},r=!("TRANSPARENT"in o)||o.TRANSPARENT;t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!r,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:y,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=o,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=(0,n.lJ)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var a=(0,l.U2)(i),c=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(a));var d=p.getTileCoordForCoordAndResolution(t,e);if(!(p.getResolutions().length<=d[0])){var g=p.getResolution(d[0]),f=p.getTileCoordExtent(d,this.tmpExtent_),y=(0,u.Pq)(p.getTileSize(d[0]),this.tmpSize),_=this.gutter_;0!==_&&(y=(0,u.f3)(y,_,this.tmpSize),f=(0,n.f3)(f,g*_,f)),c&&c!==a&&(g=(0,h.a)(c,a,t,g),f=(0,l.$A)(f,a,c),t=(0,l.vs)(t,a,c));var v={SERVICE:"WMS",VERSION:o.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,s.f0)(v,this.params_,r);var m=Math.floor((t[0]-f[0])/g),S=Math.floor((f[3]-t[1])/g);return v[this.v13_?"I":"X"]=m,v[this.v13_?"J":"Y"]=S,this.getRequestUrl_(d,y,f,1,c||a,v)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,o,n,s){var l=this.urls;if(l){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=o)switch(this.serverType_){case p.Z.GEOSERVER:var h=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case p.Z.MAPSERVER:s.MAP_RESOLUTION=90*o;break;case p.Z.CARMENTA_SERVER:case p.Z.QGIS:s.DPI=90*o;break;default:(0,r.h)(!1,52)}var u,c,g=n.getAxisOrientation(),y=i;return this.v13_&&"ne"==g.substr(0,2)&&(u=i[0],y[0]=i[1],y[1]=u,u=i[2],y[2]=i[3],y[3]=u),s.BBOX=y.join(","),c=1==l.length?l[0]:l[(0,a.$W)((0,d.vp)(t),l.length)],(0,f.B)(c,s)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){(0,s.f0)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||o.E;this.v13_=(0,g.n)(t,"1.3")>=0},e}(c.Z)},44280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>f});var o=i(49179),r=i(59900),n=i(89434),s=i(93888),a=i(9520),l=i(18672),h=i(50596),u=i(71405),c=i(70701),p=i(86018),d=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new s.Z(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,o){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var s,a,l,h=!0,u=i.minX;u<=i.maxX;++u)for(var p=i.minY;p<=i.maxY;++p)a=(0,c.lg)(e,u,p),l=!1,n.containsKey(a)&&(l=(s=n.get(a)).getState()===r.Z.LOADED)&&(l=!1!==o(s)),l||(h=!1);return h},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,r,n){return(0,o.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,p.X$)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,l.OP)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var o=this.getTileGridForProjection(i),r=this.getTilePixelRatio(e),n=(0,h.Pq)(o.getTileSize(t),this.tmpSize);return 1==r?n:(0,h.bA)(n,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,p.Cf)(o,t,i)),(0,c.tE)(t,o)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,o){},e}(u.Z),g=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.ZP);const f=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):n.vU,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,n=(0,o.sq)(i),s=i.getState();s==r.Z.LOADING?(this.tileLoadingKeys_[n]=!0,e="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],e=s==r.Z.ERROR?"tileloaderror":s==r.Z.LOADED||s==r.Z.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new g(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=(0,n.Gk)(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.uR)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var o=(0,c.lg)(t,e,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(d)},99274:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},14431:(t,e,i)=>{"use strict";i.d(e,{E:()=>o});var o="1.3.0"},62875:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});var o=i(49179),r=i(11256),n=i(38906),s=i(8913),a=i(13002),l=i(73381);const h="fraction";var u=i(85386),c=i(66575),p=i(16250),d=function(t){function e(e,i,o,r,n,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=n,this.size_=o,this.src_=i,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===r.Z.LOADED){this.tainted_=!1;var t=(0,u.E4)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=r.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=r.Z.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],i=this.size_[1],o=(0,u.E4)(e,i);o.fillRect(0,0,e,i),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==r.Z.IDLE){this.imageState_=r.Z.LOADING,this.imageListenerKeys_=[(0,a.Vx)(this.image_,l.Z.ERROR,this.handleImageError_,this),(0,a.Vx)(this.image_,l.Z.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,o=this.color_[0]/255,r=this.color_[1]/255,n=this.color_[2]/255,s=0,a=i.length;s<a;s+=4)i[s]*=o,i[s+1]*=r,i[s+2]*=n;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.bN),this.imageListenerKeys_=null},e}(c.Z);const g="bottom-left",f="bottom-right",y="top-left",_="top-right",v=function(t){function e(e){var i=e||{},a=void 0!==i.opacity?i.opacity:1,l=void 0!==i.rotation?i.rotation:0,u=void 0!==i.scale?i.scale:1,c=void 0!==i.rotateWithView&&i.rotateWithView;t.call(this,{opacity:a,rotation:l,scale:u,rotateWithView:c}),this.anchor_=void 0!==i.anchor?i.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:y,this.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:h,this.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:h,this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var g=void 0!==i.img?i.img:null,f=void 0!==i.imgSize?i.imgSize:null,_=i.src;(0,n.h)(!(void 0!==_&&g),4),(0,n.h)(!g||g&&f,5),void 0!==_&&0!==_.length||!g||(_=g.src||(0,o.sq)(g)),(0,n.h)(void 0!==_&&_.length>0,6);var v=void 0!==i.src?r.Z.IDLE:r.Z.LOADED;this.color_=void 0!==i.color?(0,s._2)(i.color):null,this.iconImage_=function(t,e,i,o,r,n){var s=p.c.get(e,o,n);return s||(s=new d(t,e,i,o,r,n),p.c.set(e,o,n,s)),s}(g,_,f,this.crossOrigin_,v,this.color_),this.offset_=void 0!==i.offset?i.offset:[0,0],this.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:y,this.origin_=null,this.size_=void 0!==i.size?i.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==h||this.anchorYUnits_==h){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==h&&(t[0]*=e[0]),this.anchorYUnits_==h&&(t[1]*=e[1])}if(this.anchorOrigin_!=y){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=_&&this.anchorOrigin_!=f||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=g&&this.anchorOrigin_!=f||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=y){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=_&&this.offsetOrigin_!=f||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=g&&this.offsetOrigin_!=f||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return(0,a.oL)(this.iconImage_,l.Z.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){(0,a.Ev)(this.iconImage_,l.Z.CHANGE,t,e)},e}(i(48039).default)},16250:(t,e,i)=>{"use strict";i.d(e,{c:()=>s});var o=i(8913),r=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function n(t,e,i){return e+":"+t+":"+(i?(0,o.XC)(i):"null")}r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,i){var o=n(t,e,i);return o in this.cache_?this.cache_[o]:null},r.prototype.set=function(t,e,i,o){var r=n(t,e,i);this.cache_[r]=o,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new r},15565:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var o=i(98185),r=i(78288),n=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new o.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:r.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};n.prototype.clone=function(){return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(t){this.overflow_=t},n.prototype.setFont=function(t){this.font_=t},n.prototype.setMaxAngle=function(t){this.maxAngle_=t},n.prototype.setOffsetX=function(t){this.offsetX_=t},n.prototype.setOffsetY=function(t){this.offsetY_=t},n.prototype.setPlacement=function(t){this.placement_=t},n.prototype.setFill=function(t){this.fill_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.setText=function(t){this.text_=t},n.prototype.setTextAlign=function(t){this.textAlign_=t},n.prototype.setTextBaseline=function(t){this.textBaseline_=t},n.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},n.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},n.prototype.setPadding=function(t){this.padding_=t};const s=n},78288:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={POINT:"point",LINE:"line"}},70701:(t,e,i)=>{"use strict";function o(t,e,i,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=i,o):[t,e,i]}function r(t,e,i){return t+"/"+e+"/"+i}function n(t){return r(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function l(t){var e,i,o=t[0],r=new Array(o),n=1<<o-1;for(e=0;e<o;++e)i=48,t[1]&n&&(i+=1),t[2]&n&&(i+=2),r[e]=String.fromCharCode(i),n>>=1;return r.join("")}function h(t,e){var i=t[0],o=t[1],r=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var n,s=e.getExtent();return!(n=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i))||n.containsXY(o,r)}i.d(e,{T9:()=>o,lg:()=>r,km:()=>n,Ul:()=>s,vp:()=>a,OT:()=>l,tE:()=>h})},86018:(t,e,i)=>{"use strict";i.d(e,{X$:()=>u,Cf:()=>c,dl:()=>p,RZ:()=>g,Tl:()=>f});var o=i(10508),r=i(50596),n=i(21915),s=i(51748),a=i(18672),l=i(40868),h=i(8930);function u(t){var e=t.getDefaultTileGrid();return e||(e=g(t),t.setDefaultTileGrid(e)),e}function c(t,e,i){var o=e[0],r=t.getTileCoordCenter(e),s=f(i);if((0,n.b8)(s,r))return e;var a=(0,n.dz)(s),l=Math.ceil((s[0]-r[0])/a);return r[0]+=a*l,t.getTileCoordForCoordAndZ(r,o)}function p(t){var e=t||{},i=e.extent||(0,a.U2)("EPSG:3857").getExtent(),o={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:d(i,e.maxZoom,e.tileSize)};return new h.Z(o)}function d(t,e,i){for(var s=void 0!==e?e:o.e,a=(0,n.Cr)(t),l=(0,n.dz)(t),h=(0,r.Pq)(void 0!==i?i:o.S),u=Math.max(l/h[0],a/h[1]),c=s+1,p=new Array(c),d=0;d<c;++d)p[d]=u/Math.pow(2,d);return p}function g(t,e,i,o){return function(t,e,i,o){var r=void 0!==o?o:s.Z.TOP_LEFT,a=d(t,e,i);return new h.Z({extent:t,origin:(0,n.g0)(t,r),resolutions:a,tileSize:i})}(f(t),e,i,o)}function f(t){var e=(t=(0,a.U2)(t)).getExtent();if(!e){var i=180*l.METERS_PER_UNIT[l.default.DEGREES]/t.getMetersPerUnit();e=(0,n.T9)(-i,-i,i,i)}return e}},8930:(t,e,i)=>{"use strict";i.d(e,{Z:()=>d});var o=i(10508),r=i(38906),n=i(19473),s=i(79682),a=i(21915),l=i(21882),h=i(50596),u=i(70701),c=[0,0,0],p=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,r.h)((0,s.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,l=this.resolutions_.length-1;i<l;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,r.h)(this.origins_.length==this.resolutions_.length,20));var h=t.extent;void 0===h||this.origin_||this.origins_||(this.origin_=(0,a.rL)(h)),(0,r.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,r.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:o.S,(0,r.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==h?h:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):h&&this.calculateTileRanges_(h)};p.prototype.forEachTileCoord=function(t,e,i){for(var o=this.getTileRangeForExtentAndZ(t,e),r=o.minX,n=o.maxX;r<=n;++r)for(var s=o.minY,a=o.maxY;s<=a;++s)i([e,r,s])},p.prototype.forEachTileCoordParentTileRange=function(t,e,i,o,r){var s,a,l,h=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],l=t[2]):h=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),l=Math.floor(l/2),s=(0,n.T)(a,a,l,l,o)):s=this.getTileRangeForExtentAndZ(h,u,o),e.call(i,u,s))return!0;--u}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],r=2*t[2];return(0,n.T)(o,o+1,r,r+1,e)}var s=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},p.prototype.getTileRangeExtent=function(t,e,i){var o=this.getOrigin(t),r=this.getResolution(t),n=(0,h.Pq)(this.getTileSize(t),this.tmpSize_),s=o[0]+e.minX*n[0]*r,l=o[0]+(e.maxX+1)*n[0]*r,u=o[1]+e.minY*n[1]*r,c=o[1]+(e.maxY+1)*n[1]*r;return(0,a.T9)(s,u,l,c,i)},p.prototype.getTileRangeForExtentAndZ=function(t,e,i){var o=c;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,o);var r=o[1],s=o[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,o),(0,n.T)(r,o[1],s,o[2],i)},p.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=(0,h.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*i,e[1]+(t[2]+.5)*o[1]*i]},p.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),o=this.getResolution(t[0]),r=(0,h.Pq)(this.getTileSize(t[0]),this.tmpSize_),n=i[0]+t[1]*r[0]*o,s=i[1]+t[2]*r[1]*o,l=n+r[0]*o,u=s+r[1]*o;return(0,a.T9)(n,s,l,u,e)},p.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordForXYAndResolution_=function(t,e,i,o,r){var n=this.getZForResolution(i),s=i/this.getResolution(n),a=this.getOrigin(n),l=(0,h.Pq)(this.getTileSize(n),this.tmpSize_),c=o?.5:0,p=o?0:.5,d=Math.floor((t-a[0])/i+c),g=Math.floor((e-a[1])/i+p),f=s*d/l[0],y=s*g/l[1];return o?(f=Math.ceil(f)-1,y=Math.ceil(y)-1):(f=Math.floor(f),y=Math.floor(y)),(0,u.T9)(n,f,y,r)},p.prototype.getTileCoordForXYAndZ_=function(t,e,i,o,r){var n=this.getOrigin(i),s=this.getResolution(i),a=(0,h.Pq)(this.getTileSize(i),this.tmpSize_),l=o?.5:0,c=o?0:.5,p=Math.floor((t-n[0])/s+l),d=Math.floor((e-n[1])/s+c),g=p/a[0],f=d/a[1];return o?(g=Math.ceil(g)-1,f=Math.ceil(f)-1):(g=Math.floor(g),f=Math.floor(f)),(0,u.T9)(i,g,f,r)},p.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,e){var i=(0,s.h7)(this.resolutions_,t,e||0);return(0,l.uZ)(i,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),o=this.minZoom;o<e;++o)i[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=i};const d=p},10508:(t,e,i)=>{"use strict";i.d(e,{e:()=>o,S:()=>r});var o=42,r=256},89434:(t,e,i)=>{"use strict";i.d(e,{uR:()=>a,Un:()=>l,vU:()=>h,Gk:()=>u});var o=i(38906),r=i(21882),n=i(70701);function s(t,e){var i=/\{z\}/g,r=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(a,l,h){return a?t.replace(i,a[0].toString()).replace(r,a[1].toString()).replace(n,(function(){return(-a[2]-1).toString()})).replace(s,(function(){var t=a[0],i=e.getFullTileRange(t);return(0,o.h)(i,55),(i.getHeight()+a[2]).toString()})):void 0}}function a(t,e){for(var i=t.length,o=new Array(i),r=0;r<i;++r)o[r]=s(t[r],e);return l(o)}function l(t){return 1===t.length?t[0]:function(e,i,o){if(e){var s=(0,n.vp)(e),a=(0,r.$W)(s,t.length);return t[a](e,i,o)}}}function h(t,e,i){}function u(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var o,r=i[1].charCodeAt(0),n=i[2].charCodeAt(0);for(o=r;o<=n;++o)e.push(t.replace(i[0],String.fromCharCode(o)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}},78487:(t,e,i)=>{"use strict";function o(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var o=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+o}i.d(e,{B:()=>o})},57129:(t,e)=>{"use strict";var i=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function r(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var o,n,s=[];for(n in"string"!=typeof e&&(e="?"),t)if(i.call(t,n)){if((o=t[n])||null!=o&&!isNaN(o)||(o=""),n=r(n),o=r(o),null===n||null===o)continue;s.push(n+"="+o)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,i=/([^=?#&]+)=?([^&]*)/g,r={};e=i.exec(t);){var n=o(e[1]),s=o(e[2]);null===n||null===s||n in r||(r[n]=s)}return r}},47418:t=>{"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},87404:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},83051:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"}}]);